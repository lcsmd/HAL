{
    "eTKgc0YDCwE": {
        "title": "Build the Wyoming Voice Satellite With ChatGPT and a Raspberry Pi To Replace Alexa & Google FOREVER!",
        "thumbnail": "https://i.ytimg.com/vi/eTKgc0YDCwE/hqdefault.jpg",
        "author": "FutureProofHomes",
        "date_of_release": "2024-01-07T02:57:55Z",
        "duration": "PT20M31S",
        "view_count": "223781",
        "like_count": "6731",
        "comment_count": "468",
        "description": "Let's build Home Assistant's Wyoming Voice Satellite with a Raspberry Pi and a little ChatGPT magic.  Get rid of Google & Amazon and replace it with your own 100% local, privacy-focused, voice assistant!\n\nGo to https://FutureProofHomes.net for Smart Home Design, Installation & Consulting.\n\nHome Assistant's Wyoming Tutorial Link:\n--------------------\nWyoming Voice Satellite Tutorial - https://github.com/rhasspy/wyoming-satellite/blob/master/docs/tutorial_2mic.md\n\n\nRaspberry Pi Hardware Affiliate Links (Help the channel!  TY!)\n--------------------\n1. Seeed | Raspberry Pi Zero W 2 - https://amzn.to/3vlMcbq\n2. Generic | Raspberry Pi Zero W 2 - https://amzn.to/4aM2B9s\n3. Rastech | Raspberry Pi Zero W 2 - https://amzn.to/4b236w0\n\n\n2-Mic Pi Hat Hardware Affiliate Links\n--------------------\n1. SeeedStudio: 2-Mic Pi Hat - https://rb.gy/i6hfmu\n2, NGW | ReSpeaker 2-Mic Pi Hat - https://amzn.to/3TT9MXw\n2. Winder | ReSpeaker 2-Mic Pi Hat - https://amzn.to/3SiOO2W\n3. (MAY BE SOLD OUT)Seeed | ReSpeaker 2-Mic Pi Hat - https://amzn.to/3TR92BU\n\n\nSolder-less Pi Install Rig \n--------------------\n1. Vilros | Pi Zero Hammer-In Install Rig - https://amzn.to/3S4TSq6\n2. Vilros | (MAY BE SOLD OUT) Pi Zero Hammer-In Install Rig - https://amzn.to/48MjvmE\n\n\nRaspberry Pi & Protective Case Combo (Still Requires Install Rig Above to Avoid Soldering)\n--------------------\n1. Vilros | Raspberry Pi Zero W 2 Starter Kit - https://amzn.to/3SkiNaB\n\n\nProtective Case & SD Card Affiliate Links (Help the channel!  TY!)\n--------------------\n1. Pi Zero Protective Case I like - https://amzn.to/4aPDQJp\n2. Single 32Gb MicroSD Card - https://amzn.to/47nkHf7\n3. Two 32Gb MicroSD Cards - https://amzn.to/3vzytOe\n\n\nChapters\n--------------------\n0:00 - Intro\n0:30 - Hardware Required to build Wyoming Voice Satellite\n1:26 - Installing Header Pins & ReSpeaker Mic Hat \n2:36 - Image the MicroSD Card with Raspberry Pi OS\n3:23 - Raspberry PI OS Custom Settings\n4:19 - Booting Raspberry Pi First Time\n4:35 - SSH into Raspberry Pi \n5:21 - Installing Wyoming Satellite Software & Drivers\n6:59 - Testing the ReSpeaker Drivers\n7:47 - Create the Wyoming Satellite Service\n9:59 - Install the Wyoming Satellite into Home Assistant\n10:43 - Modify Wyoming Satellite Service to Optimizing Microphone Settings\n11:37 - Installing OpenWakeWord to the Raspberry Pi\n12:33 - Create the OpenWakeWord Service & Modify \n13:29 - Modify the Wyoming Satellite Service to Include OpenWakeWord Service\n14:23 - Testing OpenWakeWord in Home Assistant\n15:40 - Install the LED software and Create the LED Service\n16:51 - Modify the Wyoming Satellite Service to Include LED Service\n17:57 - Testing the LEDs\n18:21 - Recommended Extra Configurations\n19:23 - Mounting in the Ceiling\n19:52 - Demonstrating Final Product\n20:00 - Closing Statements\n20:23 - Outtakes",
        "transcript": "for am measly $25 these two boards right here plus a little bit of chat GPT magic in the home assistant platform you can build your own voice assistant that controls your entire smart home really it's so powerful it practically replaces the need for these entirely really today we're going to build the Wyoming voice satellite built by the brilliant home assistant team we're going to name our voice assistant Jarvis and then we're going to install it into the ceiling of our home are you ready let's go all right so let's talk about some of the hardware that you're going to need the most important piece obviously is the Raspberry Pi 02w it's about $15 I'll put a link in the description [Music] below you'll notice this one does not come with the headers on it you can buy versions that have the headers pre-installed that's up to you today we are going to install our own headers and we'll do it with this header rig so that we don't have to do any solder ing the other thing you're going to need is a uh re speaker uh two mic pie hat these are around $9 and you'll see that they actually Connect into the header pins you're also going to need a Micro SD card I got this 32 GB one for like eight bucks and then it's optional but you could get a case which I have right here and it comes with a convenient little like a power on power off button so let's go ahead and get the header pins installed and then we'll uh jump into the software the ones that came with the Raspberry Pi you have to solder and we don't want to do any soldering today so take these pins put them aside in this kit right here it comes with everything that you need to attach pins without solder so you need special pins to do this which is why I said set the other ones aside take these uh take your Raspberry Pi mount it then put in your headers just kind of apply a little finger pressure here and then you're going to take this bar put it over over and then you're going to hammer that bar don't be too hard don't be too light either but once you Hammer that bar in you're essentially going to see those pins sticking out the bottom end great so now we have our pins installed then we're going to take our re speaker P my cat and connect these two bad boys together now let's talk about getting the software installed on the SD card real quick uh sorry to bother guys if you haven't subscribed commented like the video do all those things also go to futureproof homes.net if you want a system like this installed for you or if you just need Consulting advice on Smart Homes all right bye you may already have a USB reader that allows you to plug in your micro SD card if you don't a lot of micro SD cards come with an adapter like this so you can plug the micro SD card into the SD card and MacBook Pros have a input slot for this so I'm just going to plug this directly into the MacBook Pro this is the tutorial that we're going to follow [Music] today okay the first step is to download the Raspberry Pi OS software I've already done that so if I open it up then I'll select the Raspberry Pi that we're working with which is the Raspberry Pi 02w click choose OS Raspberry Pi OS other then go and look for the Raspberry Pi OS 64-bit Legacy light finally select the SD card that's in your computer click next and I'm going to say edit settings here I'm going to set my host name to log Loft satellite and I'm going to set the username to Loft satellite as well I'm going to create a long password and then I'm going to put in my 2.4 GHz Wi-Fi SSID and the password very important note here your Raspberry Pi can only connect to a 2.4 GHz Wi-Fi signal don't put in a 5 GHz Wi-Fi connection okay I also like to set my local settings to my current time zone go to services and tick on enable SSH and then use password authentication and you can leave all these options at default click save agree to erase all the content on the SD card and wait a few minutes for it to write the operating system with your settings onto the SD card a few minutes later plug our SD card into the Raspberry Pi we have HDMI then we have one USB and then this is the far USB that you want to use take our micro USB cable plug it in and you should see that it begins to boot with the LED give your Pi around 2 to 4 minutes to boot up and connect to your network and then open up your favorite terminal and type in SSH the name of your Pi Loft satellite at Lofts satellite. looc if for some reason this SSH command is not connecting to your device log in to your router get the IP address and now you you could say SSH Loft satellite at 1 [Music] 192.168 say yes and then type in the password that you defined earlier and now we are in press PWD and you'll see that you should be in home slash and then the name of your device we now need to follow the steps to install Wyoming protocol under this Raspberry Pi let's do that now this command is going to make sure that your package manager has all the recent packages and install git and Python 3 whenever asked just press the letter Y and then enter this next command is actually going to pull down the Wyoming satellite code to your Raspberry Pi now we need to install the drivers that help the Raspberry Pi communicate to the re speaker mic hat that you connected to the top of the headers be patient while this installs contemplate All Your Life Choices if you want don't be too hard on yourself seriously this could take 5 to 10 minutes to install just be grateful for the developer who built this all right the drivers are installed let's reboot our Raspberry Pi pseudo reboot watch your router and you should see the Raspberry Pi disconnect from Wi-Fi and then come back online so again I'll type in SSH Lofts satellite atlofts satellite. looc type in your SSH password and you're back in now if you press LS you should see that you have a Wyoming Das satellite folder good job okay now we need to configure our virtual python environment with all our dependencies and requirements this can take another 3 to 5 minutes I think I'm going to have a hard seler don't judge me it's all I have in my fridge in case you don't know black cherry is the best flavor though all right let's run the script in the Wyoming satellite directory and make sure that it's actually installed correctly if you see all the help commands come up then you're in good shape let's move on to configuring the re speaker a record- l will list all of the microphones capable of recording if you see this right here this confirms that your Pi is talking to the mic hat that's installed on the top great next let's run this command and then we'll just talk into the device to record a quick 5-second clip this is a test of the emergency broadcast system testing 1 two 3 and now we're going to list the speakers and you should see a seed to mic voice card that has all software conversions enabled plug in a pair of old school headphones to the headphone jack and then you should hear your 5-second recording okay now we're going to create a service that'll be responsible for always starting up the Wyoming satellite whenever you plug in your pi and Boot It Up it'll also be responsible for rebooting the Wyoming satellite software if it ever crashes so let's follow these steps right here copy this pseudo system CDL edit command and it's going to create a service file make sure you're in your Wyoming satellite directory PWD present working directory shows me home Loft satellite Wyoming satellite this is the correct directory let's run our Command and now we're going to go and copy the template and paste that let's modify this template the first thing you need to do is look for anywhere that it says home slpy right here for example and we're going to change it to home slash the name of our user which is Loft satellite and I see another instance of Home SLP so we're going to change that to home SL Loft satellite the other thing I like to do is for commands that are very long if you find the dash dash here you can put in a slash and then move it to the next line so I'll do the same thing for URI slash enter move it to the next line and then the same thing for these parameters as well this just makes it much easier to read all right the last thing we want to do here is name our satellite this is the name that's going to show up inside home assistant great now we press contrl X then we press the letter Y to save our buffer and then we press enter all right we've now defined our service now we need to start it and then we're going to go look at the logs inside that service to make sure everything is running correctly grab the pseudo system CTL enable command run that and now your service is started grab the next command which is the journal CTL command and you should see that everything is running as expected let's go check home assistant and see if it autodetected our new Wyoming satellite go to settings devices and integration and there it is Loft satellite click configure submit and then specify what area This falls in of course Mine Falls in The Loft say finish and that's it now if you go down to your Wyoming protocol here you should see that you have your new Loft satellite let's keep going with the tutorial it's worth mentioning here at the bottom that if you need to stop your service for any reason you could copy this command and execute it we're not going to do that right now we want this service to continue running in the audio enhancement section the developer is telling us that we could add a mic Auto gain of five and a noise suppression of two this just helps better voice recognition and I found it to be pretty helpful so I'm going to copy these two parameters right here I'm going to go back to my terminal and if you press the up Arrow key a few times you'll find your pseudo system CTL edit command run that again to go in go down and let's create a new line and add those parameters in here press command X to save this updated file press y to save the buffer press enter to exit the developer mentions here that you could add a Das Das mic volume multiplier which would basically make the microphone more sensitive I didn't find this was necessary so I'm not going to add this parameter in okay now we're going to install Wake word detection locally on the Raspberry Pi this is actually really amazing that you can do this a small system on a chip can actually be listening to audio in the room and analyzing it for Wake words like Alexa or Jarvis or okay Nabu this is great because it now means that your home assistant Server doesn't have to be listening to everything just the Raspberry Pi is listening for Wake words let's install it first let's install the dependencies necessary now let's actually go and install the actual open wake word code be sure that you are in the correct directory while doing this PWD confirms that I am in slh home/ Loft satellite all right let's run the command this is going to pull down the code from GitHub and then change into that directory and run the setup script okay now we need to create a open wake word service just like we did before for the Wyoming software and then we're going to go and modify the previous service so that it depends on open wake word let's do it copy this command here which says pseudo system CTL edit Wyoming open wake word service and then we're going to paste extend this template here just like we did before and then we're going to modify it slightly exactly like we did before so look for every instance of Home SLP and change that to home slash and then the name of your user which in this case again is Loft satellite we'll do the same thing down here Loft satellite and that's it press crl x the letter Y to save your buffer and then enter to exit now we're going to go and modify our Wyoming satellite service let's concatenate in these parts right here manually so you can see we're now saying that this Wyoming satellite service has a dependency on the Wyoming open wake word service and then we're going to add these two parameters wake Ur and wake word name to our Wyoming satellite service and I'm going to set our wake word to hey uncore Jarvis don't forget to put your trailing slash on the previous last line okay that looks perfect contrl X Y enter now let's uh reload and restart the satellite service and now let's make sure that that service is behaving as we would expect all right all right now we can see that open wake word has a green light next to it and that it is started everything should work let's test it go into your home assistant go to settings devices and services and then Wyoming protocol and find your satellite that you just set up and you'll see right here that it has a sensor a system progress which is currently off let's try the Wake word hey Jarvis is this working as expected all right it looks like we saw that the assistant progress sensor went from off to on and then back to off uh worth mentioning be sure and select your correct pipeline [Music] here you can debug a little bit further if you want to by going back to your settings and then going to voice assistants open up that pipeline click on the three dots in the top right hand corner and go to debug and you can actually see exactly what you said and how fast the cloud processed it and you can you know debug your entire pipeline okay so if you've come this far don't leave yet there's a few more things to do we're going to now tell the LEDs to turn on whenever you utter the Wake word so you get a visual queue and also there's quite a few optimizations that I want to recommend that you guys put in your configurations to make the whole system behave better all right let's get these LEDs going bring up your terminal and make sure that that you are in your home directory So currently I'm in the Wyoming satellite directory so let's go back and now we are in our home directory from there let's paste in our Command to begin the LED process all right and let's install the next command for gp0 now let's test the service and make sure everything is working as expected great we have a help page that comes up with which is exactly what we want to see let's create our third and last service for the LEDs copy the template just as we've done before paste in your Nano text editor and let's make the modifications that we should be very familiar with by now so now we're going to edit our Wyoming satellite service just like we did before except this time we're going to make sure it includes not open wake word but also it includes the LEDs under the unit section add requires equals to micore LED service then we're going to add a slash here next line and paste in our event URI so this is saying that when event happens that it sends a signal over to the service that's running at Port 105000 which is your LED service let's exit and save this updated service and now we're going to reload our Wyoming satellite service which will also reload all of the services it depends on let's make sure that the LED service is running now okay it looks like our LED service is running and it has a green light next to it which is great let's test hey Jarvis what time is it awesome seems to be working perfectly all right there's a few changes that I made to the configuration during my testing and I want to share those now and I'll explain what they are and why you should consider them yourself so this is just an easy way for me to show you that this is what you have right now in your Wyoming satellite service on the left and these are some recommendations that I'm making the first recommendation is that you set this value right here for the a Play command set it to 1600 also uh-- snd command rate set that to 1600 so add that line in those two things for me they remove some crackling and distort Distortion noise in the audio give that a shot if you have that Distortion snd volume multiplier is optional I turned it way down to 10% because I'm plugging my voice assistant into an amplifier and then down at the bottom down here are two wave files these are the sounds that you will hear when you utter the Wake word and when the command is done all right so now you could plug your speakers into here if you wanted to or you could plug a headphone uh Jack into here and then like to RCA for example in my case I'm going to plug mine into my amplifier so that the audio comes out of the in sealing speakers so there's the Wyoming Voice Assistant mounted in the ceiling if you're at all curious about how to do this in seiling install check out my other video called the stealth Voice Assistant install and we talk about the htd hardware time to button this up and do a quick demo hey Jarvis turn off the media room ceiling lights and turn on the home theater the media room ceiling lights have been turned off and the home theater has been turned on all right that's it please like subscribe add any comments down below check the description for links to hardware and to configuration files see you guys in the next one proof homes.net if you want an install like this done for suit uh"
    }
}