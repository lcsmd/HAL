{
    "hmvRcJ0jKgI": {
        "title": "How expensive is my Home Lab? (and how to reduce power cost)",
        "thumbnail": "https://i.ytimg.com/vi/hmvRcJ0jKgI/hqdefault.jpg",
        "author": "Christian Lempa",
        "date_of_release": "2022-05-31T15:00:21Z",
        "duration": "PT13M11S",
        "view_count": "42553",
        "like_count": "1487",
        "comment_count": "192",
        "description": "In this video, I show you how much I pay for my entire Home Server Rack. We talk about power consumption and break it down to the single components. I also share some tips how you can reduce the power consumption of your devices. #LowEnergyHomeLab #HomeLab #HomeServer\n\nTeleport-*: http://goteleport.com/thedigitallife\n\n\nFollow me:\n\nTWITTER: https://twitter.com/christianlempa\nINSTAGRAM: https://instagram.com/christianlempa\nDISCORD: https://discord.gg/christian-lempa-s-tech-community-702179729767268433\nGITHUB: https://github.com/christianlempa\nPATREON: https://www.patreon.com/christianlempa\nMY EQUIPMENT: https://kit.co/christianlempa\n\n\nTimestamps:\n\n00:00 - Introduction\n01:07 - Advertisement-*\n01:50 - Which devices are in my Server Rack\n03:18 - Total Costs\n04:00 - My Network Switch\n05:02 - My Firewall\n07:25 - My Storage Server\n09:10 - My Proxmox Server\n11:33 - Some bonus tips\n\n________________\nAll links with \"*\" are affiliate links.",
        "transcript": "hey guys how you doing christian here it's been a few months now since i showed you my home server rack the first time and since then i got some comments and questions from people how much i actually pay for electricity surprisingly i never asked myself this question before because i always was just running a few devices at home before maybe a pc a router a small server but since my equipment has rapidly grown once i started this youtube channel i think it's now time to properly measure the electricity cost just to be aware of it and let's be honest running so many servers and equipment can be freaking expensive that's why i thought i'll let you guys guess on twitter how much do you think i'm paying i heard everything from like 10 euros a month till over 100 or 200 euros a month some people were quite close by the way and today i will let you know how much power all the devices in my server i consume how much does it cost me but also how you could optimize that in your own homeland because there are some ways how you can minimize it so let's talk about that but first before we start i want you to show my favorite tool for secure access in my home lab it's teleport teleport is a free and open source access proxy for your entire server infrastructure that offers you two-factor authentication and audit logging for all your linux servers kubernetes clusters databases web applications and rdp desktops i've also done some tutorials about it and i'm preparing another one in the following month about rdp access i guess that will be very useful for it administrators in windows environments if you're interested using this software in your company just reach out to the teleport guys and to get started for free just download their community edition without any sign up or any payment as always you will find a link to their website in the description down below okay so what do i have in my home server rack so far by the way if you would like to watch a complete home lab tour with in-depth explanation about my systems and setup just leave me a comment if you'd be interested in that i might do a full home lab tour at some point and also if you like my videos please leave a like and subscribe to the channel that's highly appreciated so in the entire home server rack i have a proxmox server that's running my virtual machines a storage server running trueness scale my sofas xg firewall that device that scans all the network traffic in my house and the software's switch so that connects all the network devices and also powers my iot stuff like my philips hue bridge and access points i also added something new especially for this project that's a pdu from logilink which powers all the devices but also has a network connection and a web interface that tells me the total load of the pdu the temperature and gives me some insight into what's actually going on here and how much power it consumes in total unfortunately it doesn't say how much every single port uses but i've also measured the power consumption on all devices separately over 24 hours so i could roughly find out which device consumes how much power under normal conditions by the way if you'd be interested in this pdu or other half a equipment i've added it to my kit page this page also lists all my other hardware builds by the way so you can find all the parts that i'm using and if you use the amazon links to buy stuff here it also supports my channel a bit so overall the power consumption of all the devices in my rack is mostly 1.3 ampere in total which means 300 watts all the machines are running 24 7 so calculating that with the current pricing that i need to pay in germany which is 25.52 currently that means something like about 55 euros a month for everything i think this is actually not bad for what i'm running and maybe this is also based on my decision to invest in newer more efficient hardware components and that's probably the most interesting part that i want to talk with you about when you're running home labs not only what you need to pay but also what you can do to minimize the cost now let's go over these devices in my server rack all one by one and let's first start with the switch this is undoubtedly the device with the lowest power usage in 24 hours it consumed only 0.84 kilowatts which is an average of 35 watts an hour so that would currently cost me around six or seven euros per month note here are also my access points included so that's because this is a power over ethernet switch and i have two access points currently running that's pretty comfortable and if i forget about the aps the switch alone would consume something about 25 watts and that is absolutely okay for our minutes which it's the lowest number here in the entire rack and i probably don't have much potential to improve it as it's already very power efficient and i just need a network switch so you could of course run a smaller network switch or maybe just run an unmanaged switch but i absolutely need this device for my 10 gigabit connections at vlans and given the fact this is the lowest number you probably wouldn't care much about it either so let's just go on next we have the surface xgs firewall and this one surprised me a bit as it consumed more power than i expected and that's probably because this appliance is more like a small server inside than a simple router or switch it is an enterprise great firewall system that i use to connect all the devices to the network scan the traffic and protect the whole network from malware and attacks and i need to say this device is an oversized solution for a home lab no discussion however i wanted to have it as i need a device that i can use for testing and replicating even complex networking setups with vlans 10 gigabit connections and so on if it runs under normal conditions in 24 hours it consumed 1.3 kilowatts which is an average of 55 watts per hour and that makes 10 euros a month however you need to consider that compute intensive tasks can even push the consumption a lot higher for example i did some tests utilizing the entire bandwidth and when the firewall scans protocols like tls inspects the traffic to search for malware that can push the cpu load higher and of course the more traffic you throw at it the more power it consumes in my tests it never went higher than 75 watts but depending on how much you push the system to the limit it can become more expensive to run such a firewall so you can obviously question if you need a firewall solution like this in your home lab i still think it's pretty damn useful but if i wouldn't be crazy and i would like to save some money on the electricity bill i'd probably virtualize it because this is far more efficient and the surface xg fireball is a great example of how virtualization can save you money because you can run this entire system in a virtual machine with a software's firewall home license that doesn't cost you anything you don't need to buy any hardware any license it doesn't consume much power and you have almost the exact same feature set like on the most powerful enterprise firewalls of softwares there are just a few minor differences but with a home license you got all the package of protecting your it infrastructure for malware zero day attacks you can run vpns on it protect mail servers scan the traffic and even manage access points so that's probably the best way to optimize the power consumption for your networking setup run a firewall system as a virtual machine mostly that makes much more sense in homeland except you're crazy like me and you want to have such an enterprise hardware system in your testing setup now comes the biggest machine the trueness storage server and this costs a lot even though it is a pretty efficient cpu i'm using the amd ryzen 3600 it's still a big machine because it has many hard drives that are running 24 hours and it consumes 2.54 kilowatts a day which is an average of 105 watts and that means 20 euros a month and that definitely is questionable i guess i'm probably only using like 10 of the storage capacity because i wanted to be safe for the future but maybe this is insane i could probably shrink down the whole system i don't need so many drives and even though the md ryzen is a very efficient cpu it might be oversized for just an ass solution so if you're not planning to run any containers computing tasks like deduplication you could probably get away with a much smaller and cheaper system however given the fact this is such a powerful server it has 64 gigabytes of memory 48 terabytes of storage 6 cores and 12 fret cpu 10 gigabit then 20 euros a month is definitely okay also don't forget i could possibly run the entire home lap with this single server it could even run a few virtual machines or some darker containers truenet scale is in my opinion the most complete operating system for any self-hosting or home lab use cases sure it always depends on your personal preference and needs but this one single server could run the entire homeland so i don't really regret building this storage server it runs very smooth and solid in my home lab and that's for me personally much more important than saving a few euros a month on the electricity bill especially with a storage server you want to have a reliable system last but not least we have my proxmox server and this runs all the virtual machines my home lab it's running the same cpu like the trueness machine but it obviously doesn't have the overhead of powering many hard drives so here the overall power consumption is a bit lower it's 1.8 kilowatts a day so 75 watts in average roughly 13 14 euros a month i guess that's a great number for all the valuable stuff you can do with proxmox you can do so much in your home lab with it you can run linux servers windows servers run containers build an entire lab environment with vms and it's even connected to terraform it's so powerful however you might probably question if it's a good decision to run both so trueness and proxmox on separate devices because you could also think about getting rid of this entire proxmox server and run all the virtual machines on trueness or do it the other way around just run trueness as a virtual machine on proxmox that might be the best option because proxmox is in my opinion just better than trueness when it comes to virtualization but running trueness as a virtual machine that works pretty well and i guess that's probably the best way to save money here if you'd really want to focus on that because every separate physical device is less efficient than just virtualizing it that's the same for trueness as it is for the firewall if you can virtualize it from an efficiency standpoint it makes much more sense but on the other side i still like both systems to be on a separate device just to be able to play around with trueness as a bare metal installation by still having proxmox as my hypervisor and again i like to have a reliable storage server and hypervisor but still there's one more optimization tip i want to share with you and this is don't keep any unused virtual machines running if you don't need them because that can have a dramatic effect on the power consumption of the cpu i've done some tests with this system by running the cpu under 100 loads and that caused like three times higher power consumption than running an idle so if you're running more vms on that system that also means more cpu load and that can cost maybe like one or two euros per vm that you're running of course that depends on how much the vm uses the cpu load but just to keep that in mind just power down all virtual machines that you don't need to run 24 7 because you obviously will forget them i was really surprised by how much this affects the total power consumption you can see there are some pretty interesting thoughts about power consumption in home lab planning especially when you need to think about what does the hardware cost and how much power it will probably consume that's the last point i want to talk with you about and by the way i've always seen people recommending me in the comments hey christian why are you building all of this stuff just get a refurbished dell power edge server on ebay that only cost like 200 and yeah that might be true but first you got older hardware with no warranties they are heavy and noisy and mostly they are not as efficient as newer hardware and desktop pc components for example my old dell edge server consumed two times more power than the server that i'm currently running with proxmox and it didn't have more cores or more memory and maybe even was slower and if you take the 14 euros that i pay for my current proxmox server and compare it to my old one that makes a difference of like 150 euros maybe even 200 euros every year so that's why i have decided for myself no more used old server equipment the last ones that i used weren't very efficient they were very loud so all of my servers know are do-it-yourself builds and when you make some smart decisions on the hardware parts itself maybe optimize your plans so that you don't run any useless stuff that you don't need visualize as much as you can then you can run a pretty big home server rack like this for a fair price that's absolutely possible so i hope i could help you with this and with my experiences and i'll update you on everything that might change in my home lab so far of course and as always thanks everybody for watching enjoy the rest of your day and take care bye bye"
    }
}