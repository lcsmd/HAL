{
    "lqormlDJLz0": {
        "title": "What is on my Home Servers? - Virtualization, Databases, Services & More",
        "thumbnail": "https://i.ytimg.com/vi/lqormlDJLz0/hqdefault.jpg",
        "author": "SpaceRex",
        "date_of_release": "2023-04-05T14:50:22Z",
        "duration": "PT18M42S",
        "view_count": "61333",
        "like_count": "1330",
        "comment_count": "125",
        "description": "Full list on the forums: https://forums.spacerex.co/t/what-are-you-self-hosting-in-your-homelab/294?u=will\n\nHire Me! https://www.spacerex.co/hire-me/\nHave a suggestion for a video? https://forums.spacerex.co/t/how-to-submit-a-suggestion-for-a-tutorial-video-for-the-channel/194\n\n#homelab #selfhosted #virtualization \n\nWhat am I self hosting in my HomeLab? Everything from Automation to Zabbix! These are run as both virtual machines and as docker containers depending on the service. \n\nWhat to buy:\nVery powerful Synology for Self Hosting: https://amzn.to/413DwRN\nStand alone small Server: https://amzn.to/3ZLzlsC\n\n*These are Amazon affiliate links, which means that if you purchase a product through one of them, I will receive a small commission (at no additional cost to you). Thank you for supporting my channel!\n\nTOC:\n00:00 Introduction\n02:02 Database\n06:18 Git Server\n08:20 DNS Servers\n12:27 Homebridge\n14:24 Nextcloud\n14:44 Zabbix\n17:08 Plex\n17:53 Conclusion",
        "transcript": "all right how's it going y'all today we are having an absolute home lab episode where I'm going to be talking about some of the services that I'm self-hosting in my home lab I don't even know if you can call it home lab anymore at this point half business lab have a home lab either way it's still my home Lab at heart and these are gonna be a bunch of different services that I'm hosting that are really useful for me and my business the majority of these are going to be open source but there are going to be some things that something like Plex where I do use closed Source software because in my experience it is just better and we're going to be talking about a bunch of these here and just stuff you can Implement these can be things that the majority of them can be straight up implemented on something like a Synology Nas or you can start going crazy like I have and start building out an entire server room in your guest bedroom and it just grows and grows from there all right so now to cap this video somewhere we are not going to be going over any kind of file servers or virtual machine managers or anything like that we're going to go straight into the actual Services running on top of those just to go over that really quickly for those who are interested I use a combination of Synology Nas as well as true Nas scale for my file servers I have 100 terabytes intronic scale with eight terabytes of ssds no 16 terabytes of ssds on there for video editing running this YouTube channel as well as running backups for a lot of clients and things like that and then Synology is just hard for me to get out of because there's so many useful features in there that make it very difficult to self-host so those are the two things I use for my file servers Overkill certainly and then for my virtual machine managers I use XC PNG managed by Zen Orchestra phenomenal open source you can get everything completely free and it's incredibly powerful with by far the best virtual machine backups out there in my opinion I can do incredibly instantaneous restores really really really easy all managed by a single pane of glass I've stood up for numerous clients and it's just great with no license fees which is awesome all right so now we're going to actually get straight into the actual services that I'm running and what I really enjoy and we're going to start off with a pretty basic setup here and that is you need a database somewhere so I am running mariadb 10.6 right now and you really should start off with a database it's well worth it for you to have a database on your network and that you can just start adding everything to a lot of services that you're going to want to be able to run pretty much anything with a web browser is going to need a database and now a lot of Docker containers will have you the dummy mode where it uses a sqlite flat file really you want to make sure you use a database though so spin up or Maria DB instance and install PHP my admin on there and you're going to be set the reason you want to do this is you want to have one centralized database for two reasons one by having a managed database you get way better performance out of it rather than using a flat file like sqlite and two it makes backups really easy whenever you're setting up the database you need to set up a Cron job that automatically backs up and does a dump of the entire database to a file because databases get corrupted most file systems are totally fine with an unexpected power loss they're resilient they'll be fine databases there's so much caching involved that if you have a power outage or a computer crashes you're almost certain to have some corrupted database tables trust me speaking from experience here so to combat that you essentially just want to set up a MySQL dump and I'll make a video on this at one point where you essentially just dump the contents of the database to a file that literally all you would have to do is execute that in SQL and you would recreate the database so I have a Cron job that runs every single night that dumps it to a file and then Zips it and it also then R syncs it to another server that's probably unnecessary for you but just make sure you have a script that runs that does a MySQL dump every single night because you may have to go to that if you have a crash or anything like that you don't want to lose the database to all your different programs the other thing is install PHP in my admin I've got it running right here and it is so nice to have all of this it makes administering a database so much easier you just have to do command line to set up the very first time and then after that it's so much easier to set up everything and you're not going to fat finger something and actually accidentally delete it if you are just getting started it also has a great export button and what you can do is you can just do a quick export of the entire thing and then if anything does happen at least you've got that before you start off on that Crown job but definitely install PHP my admin on it and it is so nice to have we can go into the xavax tables and say oh hey look here are all the tables here is everything you can just understand what's going on and we're going to get to zabix in a minute here but look at that my history is already five gigs and five gigs and a database is a lot of data it just makes it really easy for everything to be understood here and it is phenomenal so Maria DB running on a box with PHP my admin running on top of that beautiful these are also easy enough to do on synologies literally you just install mariadb and PHP my admin and it just works so you can absolutely do this but you definitely want to start off by having a database server somewhere as a constant place to do it because so many of those Docker containers you download will say hey this works for testing with a flat file don't use it but you'll be using a production and you'll get poor performance and possible data corruption where all of a sudden it just doesn't work because of a hard crash that's why you really want to start off by having a database and also whenever you create a new database you essentially say who has access to that database from what IP address and that way you have very limited amount of users who do that all right so that was the first one you want to start off with a database server just so you never have to do it again and everything is just run on there by having one of them you only have to worry about backing up a single database and not having to worry about a bunch of other stuff and so I would really recommend that all right and so now on to number two is going to be a git server you can choose however you'd like to manage it but probably for the majority of people get T is going to be the best solution if you're really fancy and you want to start playing with like Ci pipelines and everything like that you can use gitlab but it's going to be Overkill and unnecessary for you almost certainly so you want to set up a get T server so right here this is my git T server and we can just go ahead and sign in and this has all my commits to it so I can see all the commits I've got repositories everything can pull from there and it's just nice having a web UI to see everything rather than just trying to do everything command line to remember okay what's that gets and everything like that instead you've got everything running right here and it makes it easy to have https as well for pulling really nice to have and so by having a web get server it makes it so much easier to just see stuff and not have to download everything to figure out what's in what files if I want to pull out a file from my bind config I can just see all right here I can see them I can download them it's easy to see the commits and I don't have to do git command line for everything it's just really nice to see all of it so I'd highly recommend go ahead get a get server stood up and anytime you're making custom config files for stuff put it in a git repo and commit it git is a phenomenal thing to get used to using and it integrates with I mean you can get vs code has great git integration it is really really really nice to have so whenever you're typing off these like random even one-off scripts you'll see I've got a branch right here which is like miscellaneous Scripts and so anytime I need to write something I do it and I just commit it to git because so often you'll you'll make a single script you're like oh crap crap I did something similar a few months ago I wish I had that here is just right there absolutely worth it instead of your own git server it's phenomenal to have one all right so the next thing I would set up and I would actually probably set this up very early on in your network if you can set up a DNS server but before you just go ahead and jumping right into this you need to know you should only set this up if you know what you're doing and if you're going to do it you have to have two DNS servers running because you do not want one of your computers go down and your spouse to get very mad at you because all of a sudden now the internet does not work so if you're running a DNS server and you're running it as your primary DNS server you need at least two DNS servers and they should be on two different virtual machine managers if you've got them or you can only set up one as a Raspberry Pi so I've actually got three well right now one of them's down the Raspberry Pi is down it fried itself but I've got running on two different servers and then the third one was on a Raspberry Pi just because DNS is that really really really crucial thing to have and the reason you want to run DNS is so you can see what I've been doing up here so to get to all my servers I don't have to remember an IP address or anything like that to for me to get to Zen Orchestra I just go to x01 and it just takes me right there literally that's all I got to type in that is because I've got two things running first off are DNS records so I've got DNS servers running and that's what I'm using bind for and so DNS allows me to have a DNS record for every single one of the IP addresses on my Nas every single service has its own IP address and then that IP address is associated with a DNS record so x01.sr.ex.com leads to this site this IP address and so now if I ever migrate this to a new VM with a new IP address I just update that record once and it's updated everywhere it also means you do not have to memorize all these random IP addresses and it keeps you really organized unify mpf scents both have the ability for custom DNS records now which is huge PF sends that forever UniFi finally added them which you can probably do there and so that way you don't have the extra complexity because if your router goes down well your internet is already down it doesn't matter at that point but definitely set up a DNS server somehow even if it's just on your router because it is so nice to have that and so just to clear up one thing you may have noticed I said that the DNS record was x01.sr.spaceworks.com and I just dig here to show you and that leads to 10.30.1.61 well I over here only typed in xo01 that's because of a DNS search domain so in your router's DHCP settings you probably have an option for what's called a search domain essentially the way that works is if you do not type an extension on it so I typed x01 without a DOT or anything after it it will just tack on whatever domain you have to that so while you go into my networking preferences over here in my computer and this is also available on Windows and Linux and I go into the network under advanced under DNS you will see this search domain.sr.acrex.com so that means that if I do not type an additional address on the end it's going to say hey if I add sr.spacerecks.cody into this does that work and so that way you save a ton of typing and it makes it a lot easier so if you've got your own website or your own web domain it's great to have that because it makes all this stuff so much easier the other thing is as you grow and expand you may want to open things up the internet and then you can do that from this process without changing anything by just changing your public DNS server really really really powerful stuff all right so that was DNS absolutely phenomenal really great to get started on and you'll see that everything in here is via DNS so if I ever need to update an IP address it's updated once and not having to do it in 15 different places because that can be so annoying I can also migrate services from one place to the other by just saying all right now check for this IP address now instead of this other one all right and so the next thing that's absolutely phenomenal that I use in self host right here is homebridge I inherited a smart home accidentally but I inherited it and it is awesome I am able to turn off every single light and everything just works really really really well even stuff that does not work with Apple's home kit so I run an apple house pretty much everything in here are Apple devices and so I want everything to come into Apple I have a nest thermostat a unified doorbell and five different types of Lights as the previous owner left and using home bridge I was able to get these all into one single ecosystem so my doorbell right here I click on it and it's going to load in the feed there that is my doorbell live feed I get a ring it shows up on the Apple TV it's awesome home bridge is phenomenal and so it's just an app that you self-host yourself and you install plugins so I've got a plug-in that takes in the nest the habitat the unified protect everything it brings it all together into one system and it works phenomenally well definitely if you have a smart home and you want to bring everything into a single ecosystem for Apple it's home Bridge there's also other ones home assistant also works very well for people if you're looking for a lot more customization you want to run on your own Services really it's great and it can all work locally where possible something like Nest unfortunately has to use the API to go up and do that but for the most part everything just comes in and works really really really well which has been phenomenal definitely home Bridge Is Awesome especially some of the plugins like home Bridge UniFi protect that allows you to bring in every single one of your unify cameras straight in here phenomenal works really well and absolutely worth it and once again everything I've mentioned so far is free open source great to have then I've got a couple more quick ones next Cloud I use somewhat I'm planning on switching over to more and more definitely something to look for if you don't have a Synology right now honestly Synology Drive works so well it's hard for me to use instead of that but definitely look at nexcloud or Synology drive to manage your files and the ability to share files with other people and things like that and then for monitoring zabex this is where you can absolutely go down a rabbit hole but for monitoring all these things you're putting up it is huge so xavix deserves 15 tutorials in and of itself but what it essentially allows you to do is it allows you to monitor anything just about anything from one pane of glass so right here under hosts I have Linux servers I have Synology NASA's I have trunass boxes I have unify switches I have UniFi Wi-Fi access points I have my web server it's all in here and it's all being monitored directly through xavix xavix has unbelievable templates once you get used to them that allow you to monitor so many different services I can go in right here and I can check out exactly the usage of that Maria DB server I can see exactly what it is using and how it's doing and it will pop up with an issue if it has an issue there's all these Auto detects so people build these unbelievable templates for them use the templates definitely do not try to build any templates yourself for a very long time but use the pre-built template and they've got these Auto detections so if you're running out of space on one of your VMS you can see that rather than having to go to every single one of your VMS it has a great great options here and once again totally open source I have been using this all the time for my clients now where I've got connections to each of my clients NASA's over at openvpn server one way and so that means I have this set up on every single other machines I didn't even have to install anything on the synologies you just use SMTP and I can see oh hey your drive's getting full oh hey that disc is dying oh hey this is really high CPU usage is everything working fine you can see and monitor all these things from one pane of glass and keep really really organized it is tough to set up at first you have to get it and you have to kind of understand it but once you build out the templates so for me every single one of my virtual machines comes from a template and it already has xavix set up and installed and it automatically gets added in there once you get to that point monitoring these things becomes so easy and it's really useful to have one place to monitor everything there's not a single thing that I'm not monitoring on here which is great so that is xavix and finally there is Plex I'm not even really going to talk about Flex too much because you probably already know about it but I have tried a few other Solutions Plex really has the best option for working across multiple devices and just having all of your data in one place it's just hard to switch over to something like jellyfin just because you don't have the awesome apps on every single device in a very standardized format it is closed Source software that costs money I think it's like 120 lifetime fee if you want the pro pass you can start it for free if you want to but that also goes on sale a lot but for me it is worth it I do believe just because it's got great user interfaces for every single thing and it's just been pretty bulletproof for me all right well that is all the really crucial stuff that I am self-hosting go ahead leave any other things you think I should check out in the comments below because I'm always down to see more of these projects and I'd also like to know what people would like me to make tutorials on I'm moving it more and more into the home lab stuff as I finally have gotten it down and I'd love to know what people are thinking all right and finally if you want to hire me for a project I'm a professional I.T consultant now somehow and I've quit my full-time job and do this full-time there's a link for that in description below have any questions put them in the comments and have a good one bye foreign [Music] foreign"
    }
}