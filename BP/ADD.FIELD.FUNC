FUNCTION ADD.FIELD(DOMAIN, FILENAME, FIELDNAME, M_S, ASSOC, INDEX.FLAG, REQUIRED)
* Add a field definition to DOM_FILE_FIELD
* Returns 1 on success, 0 on failure

OPEN "DOM_FILE_FIELD" TO F.DOM_FILE_FIELD ELSE
   RETURN 0
END

KEY = DOMAIN:":":FILENAME:":":FIELDNAME
REC = M_S:@FM:ASSOC:@FM:INDEX.FLAG:@FM:REQUIRED
WRITE REC ON F.DOM_FILE_FIELD, KEY

RETURN 1
END
