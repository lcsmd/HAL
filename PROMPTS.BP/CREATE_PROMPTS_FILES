! Program: CREATE_PROMPTS_FILES
! Description: Creates necessary files for the prompts system.
! Author: Lawrence C Sullivan MD
! Date:11-18-2024 

PROGRAM CREATE_PROMPTS_FILES

    CRT 'Creating necessary files...'

    * [The rest of the code remains the same]


    * Check if PROMPTS_PARAMETERS file exists
    OPEN 'PROMPTS_PARAMETERS' TO DUMMY.FILE THEN
        CRT 'PROMPTS_PARAMETERS file already exists. Skipping creation.'
    END ELSE
        * Create PROMPTS_PARAMETERS as a dynamic hashed file
        EXECUTE 'CREATE-FILE PROMPTS_PARAMETERS' SETTING EXEC_STATUS
        IF EXEC_STATUS THEN
            CRT 'Error creating PROMPTS_PARAMETERS file: ' : SYSTEM(0)
            STOP
        END ELSE
            CRT 'PROMPTS_PARAMETERS file created successfully.'
        END
    END

    * Check if PROMPTS_PARAMETER_SET directory file exists
    OPEN 'PROMPTS_PARAMETER_SET' TO DUMMY.FILE THEN
        CRT 'PROMPTS_PARAMETER_SET directory file already exists. Skipping creation.'
    END ELSE
        * Create directory file
        EXECUTE 'CREATE.FILE PROMPTS_PARAMETER_SET DIRECTORY' SETTING EXEC_STATUS
        IF EXEC_STATUS THEN
            CRT 'Error creating PROMPTS_PARAMETER_SET directory file: ' : SYSTEM(0)
            STOP
        END ELSE
            CRT 'PROMPTS_PARAMETER_SET directory file created successfully.'
        END
    END

    * Check if PROMPTS_TEMPLATE directory file exists
    OPEN 'PROMPTS_TEMPLATE' TO DUMMY.FILE THEN
        CRT 'PROMPTS_TEMPLATE directory file already exists. Skipping creation.'
    END ELSE
        * Create directory file
        EXECUTE 'CREATE.FILE PROMPTS_TEMPLATE DIRECTORY' SETTING EXEC_STATUS
        IF EXEC_STATUS THEN
            CRT 'Error creating PROMPTS_TEMPLATE directory file: ' : SYSTEM(0)
            STOP
        END ELSE
            CRT 'PROMPTS_TEMPLATE directory file created successfully.'
        END
    END

    * Check if PROMPTS directory file exists
    OPEN 'PROMPTS' TO DUMMY.FILE THEN
        CRT 'PROMPTS directory file already exists. Skipping creation.'
    END ELSE
        * Create directory file
        EXECUTE 'CREATE.FILE PROMPTS DIRECTORY' SETTING EXEC_STATUS
        IF EXEC_STATUS THEN
            CRT 'Error creating PROMPTS directory file: ' : SYSTEM(0)
            STOP
        END ELSE
            CRT 'PROMPTS directory file created successfully.'
        END
    END

    CRT 'File creation process completed.'

END

