<!DOCTYPE html>
<html>
<head>
   <title>COMPILE.CONSTRAINTS</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="COMPILE.CONSTRAINTS" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "compile_constraints.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">COMPILE.CONSTRAINTS</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="compare_files.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="compile_dict.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">COMPILE.CONSTRAINTS</span> command is used to compile <a href="constraints.htm" class="topiclink">data integrity constraints</a>.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Format</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">COMPILE.CONSTRAINTS</span> <span style="font-style: italic;">file.name</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">COMPILE.CONSTRAINTS</span> <span style="font-style: italic;">file.name</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">subfile.name</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">COMPILE.CONSTRAINTS</span> <span style="font-style: italic;">file.name</span><span style="font-weight: bold;">,*</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">COMPILE.CONSTRAINTS</span> <span style="font-style: italic;">file.name</span><span style="font-weight: bold;"> {CLEAR</span>} {<span style="font-weight: bold;">DISABLE</span> | <span style="font-weight: bold;">LOGGING</span>}</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>where</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-style: italic;">file.name</span></td><td style="border:none;padding:0">is the name of the file for which data integrity constraints are to be compiled. This must correspond to a VOC <a href="voc_f.htm" class="topiclink">F-type</a> record.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 150px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-style: italic;">subfile.name</span></td><td style="border:none;padding:0">is the name of the subfile if <span style="font-style: italic;">file.name</span> references a multi-file. Use of an asterisk as the subfile name compiles the constraints into all subfiles.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 150px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">CLEAR</span></td><td style="border:none;padding:0">causes the command to remove the compiled constraint definitions, leaving the source form in place. This qualifier can be used with all three of the file name formats.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 150px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">DISABLE</span></td><td style="border:none;padding:0">causes validation at the point of writing to the file to be suppressed. Records that would have failed validation can be identified later using the <span style="font-weight: bold;"><a href="verify_constraints.htm" class="topiclink">VERIFY.CONSTRAINTS</a></span> command.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 150px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">LOGGING</span></td><td style="border:none;padding:0">causes a validation error to be recorded in the error log but allows faulty data to be written.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 150px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p class="p_Normal">The data integrity constraint rules are defined in field 12 of D, A or S-type records in the dictionary and must be compiled and stored in the data file before they take effect. This is done using the <span style="font-weight: bold;">COMPILE.CONSTRAINTS</span> command.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">For each field to which constraints are to be applied, the command shows the field number (0 for the record id), field name and constraints expression. If an error occurs, no updates are applied to the data files.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Where a field is defined from multiple dictionary records, only one may contain a constraints expression.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">On completion of the command, <a href="at_variables.htm#system.return.code" class="topiclink">@SYSTEM.RETURN.CODE</a> will be zero if compilation was successful or a negative error number if it fails.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">See also:</span></p>
<p class="p_Normal"><a href="constraints.htm" class="topiclink">Data integrity constraints</a>, <span style="font-weight: bold;"><a href="verify_constraints.htm" class="topiclink">VERIFY.CONSTRAINTS</a></span></p>

</td></tr></table>

</body>
</html>
