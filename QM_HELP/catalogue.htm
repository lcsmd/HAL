<!DOCTYPE html>
<html>
<head>
   <title>CATALOGUE</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="$PRIVATE.CATALOGUE,CATALOG,CATALOGUE" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "catalogue.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">CATALOGUE, CATALOG</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="build_index.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="ced.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">CATALOGUE</span> command (which may be entered with the American spelling for compatibility with other products) adds a compiled QMBasic program to the global or private catalogue file or as a locally catalogued entry in the VOC.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Format</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">CATALOGUE</span> {<span style="font-style: italic;">file.name</span> {<span style="font-style: italic;">catalogue.name</span>}} <span style="font-style: italic;">record.name</span> {<span style="font-style: italic;">options</span>}</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>where</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-style: italic;">file.name</span></td><td style="border:none;padding:0">is the name of the directory file holding the program. If omitted, this defaults to BP, the .OUT suffix being added automatically.</td></tr></table></div><p style="text-indent: -180px; margin: 0 0 0 210px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-style: italic;">catalogue.name</span></td><td style="border:none;padding:0">is the name by which the program or subroutine is to be catalogued. If omitted, the <span style="font-style: italic;">record.name</span> is used. The catalogue name is translated to uppercase though calls from QMBasic programs are case insensitive. Except as described below, catalogue names must start with a letter. Subsequent characters may be letters, digits, periods, percent signs, dollar signs, hyphens or underscores.</td></tr></table></div><p style="text-indent: -180px; margin: 0 0 0 210px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 210px;">For compatibility with other database systems, the <span style="font-style: italic;">catalogue.name</span> may also commence with a digit though such catalogued items can only be used as user defined conversion codes and not as call names in programs.</p>
<p style="text-indent: -180px; margin: 0 0 0 210px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-style: italic;">record.name</span></td><td style="border:none;padding:0">is the name of the record within the specified file. The <span style="font-style: italic;">record.name</span> may be specified as an asterisk to catalogue all programs in <span style="font-style: italic;">file.name</span>. If <span style="font-style: italic;">record.name</span> is omitted and the default select list is active, this list will be used to determine the programs to be catalogued.</td></tr></table></div><p style="text-indent: -180px; margin: 0 0 0 210px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-style: italic;">options</span></td><td style="border:none;padding:0">are any of the following:</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 360px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">LOCAL</span></td><td style="border:none;padding:0">The program is to be catalogued in the VOC.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 360px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">PRIVATE</span></td><td style="border:none;padding:0">The program is to be placed in the private catalogue for use only by this account.</td></tr></table></div><p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">GLOBAL</span> {<span style="font-style: italic;">c</span>}</td><td style="border:none;padding:0">The program is to be catalogued for use by all accounts. The optional <span style="font-style: italic;">c</span> component of this command is the prefix character to be used if the <span style="font-style: italic;">catalogue.name</span> does not already include a prefix.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 360px;">&nbsp;</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">NO.PAGE</span></td><td style="border:none;padding:0">Suppresses page end prompts when output exceeds page length (e.g. use of select list).</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 360px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">NO.QUERY</span></td><td style="border:none;padding:0">Suppresses all confirmation prompts.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 360px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">NOXREF</span></td><td style="border:none;padding:0">Catalogues the program without any symbol and line cross-reference information. This results in lower disk and memory usage but prevents full diagnostic messages in case of run time errors.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 360px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">RELATIVE</span></td><td style="border:none;padding:0">Used with <span style="font-weight: bold;">LOCAL</span>, this causes the pathname stored in the VOC item to be a relative pathname so long as the program file is a subdirectory of the account.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 360px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">FULL.PATH</span></td><td style="border:none;padding:0">Used with <span style="font-weight: bold;">LOCAL</span>, this causes the pathname stored in the VOC item to be a full pathname.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">CATALOGUE</span> command makes a program or subroutine available for access via the QMBasic <span style="font-weight: bold;"><a href="qmb_call.htm" class="topiclink">CALL</a></span> statement. Catalogued programs can also be executed as command simply by entering their name at the command prompt or within a stored sentence or paragraph.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">If none of the <span style="font-weight: bold;">LOCAL</span>, <span style="font-weight: bold;">PRIVATE</span> or <span style="font-weight: bold;">GLOBAL</span> catalogue mode options is present, the default action is to use the private catalogue. The CATALOGUE.LOCAL setting of the <span style="font-weight: bold;"><a href="option.htm" class="topiclink">OPTION</a></span> command changes this default to be the local catalogue. Where the name of the item to be catalogued starts with one of the reserved prefix characters described below, it is always placed in the global catalogue.</p>
<p class="p_Normal">&nbsp;</p>
<p>Compiling a program signals an event to all QM processes to reload the object code. See the QMBasic <span style="font-weight: bold;"><a href="qmb_call.htm" class="topiclink">CALL</a></span> statement for full details.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Private Cataloguing</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The program is copied to the private catalogue in the account from which the command is executed and is available only to users of that account. Recompiling the program requires that the program is recatalogued so that the new version is copied to the catalogue directory. A failed compilation, where no object code has been produced, will not impact users of the previously catalogued version.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The private catalogue is normally a subdirectory, cat, under the account directory but can be moved by creating an X-type VOC entry named $PRIVATE.CATALOGUE in which field 2 contains the pathname of the alternative private catalogue directory. This only takes effect when QM is re-entered or on use of the <span style="font-weight: bold;"><a href="logto.htm" class="topiclink">LOGTO</a></span> command. This feature is particularly useful where two or more accounts are to share a common private catalogue. The US spelling, $PRIVATE.CATALOG, may be used instead. If both are present, the British spelling takes priority.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Global Cataloguing</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The program is copied to the global catalogue file in the QMSYS directory and is available from all accounts. For compatibility with other products, global cataloguing is also implied by adding one of the following prefix characters to the <span style="font-style: italic;">catalogue.name</span> of the program:</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">*</td><td style="border:none;padding:0">User subroutine prefix provided for compatibility with other systems</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">-</td><td style="border:none;padding:0">User callable system supplied subroutines</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">!</td><td style="border:none;padding:0">User callable system supplied subroutines</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">_</td><td style="border:none;padding:0">Internal undocumented subroutines</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">$</td><td style="border:none;padding:0">System subroutines, only callable from internal components of QM</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Use of a prefix character has the disadvantage that the prefix must also be included in calls to the subroutine as it becomes part of the subroutine name.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Recompiling the program requires that the program is recatalogued so that the new version is copied to the catalogue directory. A failed compilation, where no object code has been produced, will not impact users of the previously catalogued version.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Local Cataloguing</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A &nbsp;record is written to the VOC file as a pointer to the object code allowing calls only from the account in which the program is catalogued. </p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The VOC entry for a locally catalogued program is of type V (verb) and has a dispatch field of CS. The third field holds the full pathname of the executable program. When QM is installed on a USB memory device, the pathname will be transformed internally to a format that allows for the drive letter to be different when the stick is loaded in future. Use of the <span style="font-weight: bold;">RELATIVE</span> option to the <span style="font-weight: bold;">CATALOGUE</span> command stores a relative pathname so long as the program is in a subdirectory of the account directory. Use of the <span style="font-weight: bold;">FULL.PATH</span> option stores the full pathname. If neither option is present, the pathname is saved in the form determined by the setting of the LOCAL.CAT.RELATIVE mode of the <span style="font-weight: bold;"><a href="option.htm" class="topiclink">OPTION</a></span> command.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>If a locally catalogued program that has a security subroutine defined in its VOC entry is recatalogued, the security subroutine name is carried forward to the new VOC entry.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Recompiling the program does not require the program to be recatalogued as the VOC pointer will still be in place. A failed compilation, where no object code has been produced, may cause other processes to fail. Use of the KEEP.OLD.OBJECT mode of the <span style="font-weight: bold;"><a href="option.htm" class="topiclink">OPTION</a></span> command will retain the old object code at a compilation error.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">See also:</span></p>
<p><span style="font-weight: bold;"><a href="basic.htm" class="topiclink">BASIC</a>, <a href="delete_catalogue.htm" class="topiclink">DELETE.CATALOGUE</a></span>, <span style="font-weight: bold;"><a href="find_program.htm" class="topiclink">FIND.PROGRAM</a></span>, <span style="font-weight: bold;"><a href="map.htm" class="topiclink">MAP</a></span></p>

</td></tr></table>

</body>
</html>
