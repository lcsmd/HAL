<!DOCTYPE html>
<html>
<head>
   <title>SCRB</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="SCRB" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "scrb.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">SCRB</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="save_stack.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="security.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">SCRB</span> command runs the screen builder to create or modify a screen definition for use by the QMBasic<span style="font-weight: bold;"> <a href="qmbs_screen.htm" class="topiclink">!SCREEN()</a></span> subroutine.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Format</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">SCRB </span>{<span style="font-style: italic;">screen.file</span>} {<span style="font-style: italic;">screen.name</span>}</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>where</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-style: italic;">screen.file</span></td><td style="border:none;padding:0">is the name of the file holding the screen definition.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-style: italic;">screen.name</span></td><td style="border:none;padding:0">is the screen definition record name. If neither a <span style="font-style: italic;">screen.file</span> nor a <span style="font-style: italic;">screen.name</span> is given, <span style="font-weight: bold;">SCRB</span> will check for an active select list before prompting for a screen name.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The QMBasic<span style="font-weight: bold;"> !SCREEN()</span> subroutine uses screen definitions which are created and maintained using <span style="font-weight: bold;">SCRB</span>. The name of the account’s default screen definition file is stored in field 2 of an X-type VOC record named $SCRB.FILE and will be used if no file name is given in the <span style="font-weight: bold;">SCRB</span> command line. If this record does not exist, <span style="font-weight: bold;">SCRB</span> uses the $SCREENS file which is common to all accounts. The $SCREENS file may also contain screen definitions which are part of the QM product. These have a dollar sign in their name and should not be modified or removed.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A screen consists of a number of steps, each of which may have a fixed text display, output of data from a data record, and input of data into a data record. Data may be converted or formatted on output and input. Steps that include data input may perform validation within the screen driver subroutine and may also have user defined help and error messages. Programs can undertake all aspects of managing the flow from one step to another themselves, pass this task to the screen driver using a variety of conditional flow control options or use a mixture of the two modes.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The screen builder can automatically generate an include record identifying the screen steps by name for use in programs that use the screen. This include record will be placed in a nominated file with the same name as the screen with a .SCR suffix.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>On entry to <span style="font-weight: bold;">SCRB</span>, the user is invited to enter a screen name unless this has been provided on the command line. <span style="font-weight: bold;">SCRB</span> will look for this in the form entered and, if not found, in uppercase. If neither exists, a new screen is created.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The user can then select from the following options</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">D</span></td><td style="border:none;padding:0">Delete the screen definition</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">F</span></td><td style="border:none;padding:0">File the screen definition</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">H</span></td><td style="border:none;padding:0">Amend the screen header line</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">I</span></td><td style="border:none;padding:0">Set the file to store the generated include record</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">L</span></td><td style="border:none;padding:0">List the screen steps</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">P</span></td><td style="border:none;padding:0">Paint the screen</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">LPTR</span></td><td style="border:none;padding:0">Print the screen definition</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">S</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Show / edit step <span style="font-style: italic;">n</span></td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">X</span></td><td style="border:none;padding:0">Exit without filing</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Amending the Screen Header Line</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Selecting the <span style="font-weight: bold;">H</span> option allows entry/modification of the screen header line. It is useful to include the screen name in the header, perhaps at the left margin. All the normal input editing keys are available. Pressing the return key will end the header update.</p>
<p>&nbsp;</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Listing Screen Steps</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">L</span> option displays a list of screen steps. The information displayed is the step number and the fixed text (if any) associated with the step. If the step has no fixed text, the display shows &lt;&lt;<span style="font-style: italic;">step </span>name&gt;&gt;. The escape key can be used to terminate the list before the last page is displayed.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Painting the Screen</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">P</span> option paints an image of the screen, showing the fixed text associated with steps except those that are tagged as not to be included in a full screen paint. A prompt is issued allowing selection of a step number to be executed. This allows easy debugging of the screen from within the screen builder. Entering <span style="font-weight: bold;">X</span> at the action prompt exits from paint mode.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Printing the Screen</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">LPTR</span> option send the screen definition to the printer. Details of each step are printed followed by a representation of the screen as it would be appear after the screen paint action of the <span style="font-weight: bold;">!SCREEN()</span> subroutine.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Show / Edit a Screen Step</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">S</span><span style="font-style: italic;">n</span> option displays the definition of screen step <span style="font-style: italic;">n</span>. A further prompt allows selection of the action to be taken</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">C</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Copy step <span style="font-style: italic;">n</span> over the currently displayed step</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">C</span><span style="font-style: italic;">scrn</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Copy step <span style="font-style: italic;">n</span> of screen <span style="font-style: italic;">scrn</span> over the currently displayed step</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">D</span></td><td style="border:none;padding:0">Delete this step</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">I</span></td><td style="border:none;padding:0">Insert a new step before this step</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">M</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Move currently displayed step to become step <span style="font-style: italic;">n</span></td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">N</span></td><td style="border:none;padding:0">Advance to the next step</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">P</span></td><td style="border:none;padding:0">Move to the previous step</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">R</span></td><td style="border:none;padding:0">Return to the top level screen</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">S</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Move to step <span style="font-style: italic;">n</span></td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic; font-weight: bold;">n</span></td><td style="border:none;padding:0">Edit step definition starting at item <span style="font-style: italic;">n</span></td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The items that make up a screen step are described below.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Name</span></p>
<p>Steps may optionally be given names. These must be unique within the screen definition and are used in generating an include record of step names for use in QMBasic programs. The include record tokens are formed by adding a prefix of SS. to the step name.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Type</span></p>
<p>The step type determines the way in which the screen driver will handle the step. The type may be any of the following:</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 60px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">D</span></td><td style="border:none;padding:0">A display step. Any data item referenced by the step will be displayed but no input is permitted.</td></tr></table></div><p style="text-indent: -60px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 60px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">I</span></td><td style="border:none;padding:0">An input step. The data is displayed as for a display step but input may also be performed.</td></tr></table></div><p style="text-indent: -60px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 60px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">N</span></td><td style="border:none;padding:0">A control step. Any data item referenced by the step is not displayed but conditional flow control elements based on this data item may still be included.</td></tr></table></div><p style="text-indent: -60px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 60px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">G</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">A step group to be repeated <span style="font-style: italic;">n</span> times. The display step field described below contains a list of steps to be repeated. The repeat will terminate if the next step determination of any repeated step evaluates to anything other than the default. Step groups cannot be nested.</td></tr></table></div><p style="text-indent: -60px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p> &nbsp;The step type may also include the following qualifying codes:</p>
<p style="text-indent: -60px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 60px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">B</span></td><td style="border:none;padding:0">Sounds the terminal &quot;bell&quot;.</td></tr></table></div><p style="text-indent: -60px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 60px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">C</span></td><td style="border:none;padding:0">Clears the text and data of this step after the step is completed. Usually used with the <span style="font-weight: bold;">X</span> display mode options described later, this feature is particularly useful for clearing temporary prompt fields from the screen.</td></tr></table></div><p style="text-indent: -60px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 60px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">H</span></td><td style="border:none;padding:0">Causes the screen header to be displayed as part of this step.</td></tr></table></div><p style="text-indent: -60px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 60px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">R</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">This step is to be repeated <span style="font-style: italic;">n</span> times. The repeat will terminate if the next step evaluates to anything other than the default. Repeated steps may not appear inside step groups.</td></tr></table></div><p style="text-indent: -60px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 60px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">X</span></td><td style="border:none;padding:0">Excludes this step from the initial screen painting process. This should normally be included on the elements of a repeating group (not a repeated step).</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Clear</span></p>
<p>The clear item contains <span style="font-weight: bold;">Y</span> if the screen is to be cleared prior to displaying this step.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Display step</span> (multivalued)</p>
<p>This field lists steps by name or number which are to be displayed prior to displaying this step. For repeating step group definitions it holds the steps to be repeated as described above.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A list may be entered in a multivalued screen definition field by pressing F2.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Text</span></p>
<p><span style="font-weight: bold;">Text row</span></p>
<p><span style="font-weight: bold;">Text col</span></p>
<p><span style="font-weight: bold;">Text mode</span></p>
<p>The <span style="font-style: italic;">text</span> item contains a fixed text string which will be displayed on the screen at the position given by the <span style="font-style: italic;">text row</span> and <span style="font-style: italic;">text col</span> values using the <span style="font-style: italic;">text mode</span> display style. The mode may contain any combination of <span style="font-weight: bold;">H</span> to display in half intensity, <span style="font-weight: bold;">R</span> to set reverse video (interchange foreground and background colours) and <span style="font-weight: bold;">X</span> (omit from full screen paint).</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Field</span></p>
<p><span style="font-weight: bold;">Value</span></p>
<p><span style="font-weight: bold;">Subvalue</span></p>
<p>These items determine the position of the data item to be displayed or input. The field may be specified as a numeric position or as a filename and field name separated by a space. In the latter case, the screen builder will look up the actual field position in the dictionary of the specified file when the screen definition is being entered. Later changes to the dictionary will not cause the screen definition to change. The value and subvalue fields may be left blank where the entire field or value is to be displayed.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A value of zero for the field uses an internal temporary variable. This is of particular use in confirmation prompts, for example, where the data input is used to determine flow through the screen steps but is not part of the record being amended.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>For a repeated step or the elements of a repeating group, the field, value or subvalue may be specified as ‘1+’, for example, which will cause the screen to use successive items starting at the given position.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Prompt char</span></p>
<p>This item may be used to specify a character to appear immediately to the left of the data field. It will be ignored if the data is displayed at the left margin.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Fill char</span></p>
<p>The fill character is used to pad out short data items on the display. It is not entered into the stored data.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Data row</span></p>
<p><span style="font-weight: bold;">Data col</span></p>
<p><span style="font-weight: bold;">Data mode</span></p>
<p>These items operate in the same way as their equivalents for the text area.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>For a repeated step or the elements of a repeating group, the row may be specified as <span style="font-style: italic;">y</span>+<span style="font-style: italic;">i</span> where <span style="font-style: italic;">y</span> is the line on which the first item is to appear and <span style="font-style: italic;">i</span> indicates the number of lines by which the position is to advance for successive elements. The value of <span style="font-style: italic;">i</span> defaults to 1.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Output len</span></p>
<p>The output length item specifies the length of the data item on the display. If the actual data is longer than this, the display is truncated.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Output conv</span> (multivalued)</p>
<p>This item holds the conversion to be performed on the data prior to display. The same conversion will be applied to redisplay input values when the step is completed. The conversion may be multivalued to perform successive conversions. Output conversions are:</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">F</span><span style="font-style: italic;">fmt</span></td><td style="border:none;padding:0">Apply <span style="font-weight: bold;"><a href="qmb_fmt.htm" class="topiclink">FMT()</a></span> using <span style="font-style: italic;">fmt</span> as the format specifier.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">I</span><span style="font-style: italic;">file</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">rec</span></td><td style="border:none;padding:0">Execute the I-type named <span style="font-style: italic;">rec</span> in the dictionary of <span style="font-style: italic;">file</span>. against the data record.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">S</span><span style="font-style: italic;">name</span></td><td style="border:none;padding:0">Execute catalogued subroutine <span style="font-style: italic;">name</span>, passing in the field value as argument 2 and replacing it with the valued returned through argument 1.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">T</span><span style="font-style: italic;">file</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">fld</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">code</span></td><td style="border:none;padding:0">Apply <span style="font-weight: bold;"><a href="qmb_trans.htm" class="topiclink">TRANS()</a></span> using the data item as the record id to access field <span style="font-style: italic;">fld</span> of <span style="font-style: italic;">file</span>. The code determines the action if the record is not found. <span style="font-weight: bold;">C</span> returns the record id, <span style="font-weight: bold;">X</span> returns a null string.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">&lt;</span><span style="font-style: italic;">f</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">v</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">s</span><span style="font-weight: bold;">&gt;</span></td><td style="border:none;padding:0">Extract the given field, value or subvalue.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px">Other</td><td style="border:none;padding:0">All other codes are passed to <span style="font-weight: bold;"><a href="qmb_oconv.htm" class="topiclink">OCONV()</a></span>.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Justify</span></p>
<p>This item contains <span style="font-weight: bold;">L</span> for left justification or <span style="font-weight: bold;">R</span> for right justification.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">End mark</span></p>
<p>This item may be used to specify a character to appear immediately to the right of the data field. It will be ignored if the data field extends to the right margin.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Input len</span></p>
<p>The input length item specifies the permissible length of the data. If this value exceeds the output length, the field is panned to allow entry of long data. Many of the screen definition items are themselves panned in this way by <span style="font-weight: bold;">SCRB</span>.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Required</span></p>
<p>This item indicates whether the field may be left blank. It may contain:</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">Y</span></td><td style="border:none;padding:0">The field may not be left blank.</td></tr></table></div><p style="text-indent: -90px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">N</span></td><td style="border:none;padding:0">The field may be left blank.</td></tr></table></div><p style="text-indent: -90px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">F</span></td><td style="border:none;padding:0">For a repeated step or element of a repeating group, the field must not be blank for the first iteration of the repeat but may be blank for subsequent iterations.</td></tr></table></div><p style="text-indent: -90px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">&lt;</span><span style="font-style: italic;">f</span><span style="font-weight: bold;">&gt;</span><span style="font-style: italic;">cond</span></td><td style="border:none;padding:0">The field is required if field &lt;<span style="font-style: italic;">n</span>&gt; (or &lt;<span style="font-style: italic;">f</span><span style="font-style: italic; font-weight: bold;">,</span><span style="font-style: italic;">v</span>&gt; or &lt;<span style="font-style: italic;">f</span>,<span style="font-style: italic;">v</span>,<span style="font-style: italic;">s</span>&gt;) meets the supplied condition. The condition code is as described for the next step determinations described below.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Input val 1</span> (multivalued)</p>
<p>The first input validation is performed on the input data prior to input conversion. This item may be multivalued to perform multiple validations. The data is deemed acceptable if any of the validation criteria are satisfied. Validation codes are:</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-style: italic;">m</span></td><td style="border:none;padding:0">Numeric value <span style="font-style: italic;">m</span>. This is a numeric comparison, leading zeros will be ignored.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-style: italic;">m</span><span style="font-weight: bold;">-</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">A numeric value in the range <span style="font-style: italic;">m</span> to <span style="font-style: italic;">n</span>.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">=</span><span style="font-style: italic;">x</span></td><td style="border:none;padding:0">String equality with <span style="font-style: italic;">x</span>. <span style="font-style: italic;">x</span> may be a null string.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">C</span>'abc',65,68-70</td><td style="border:none;padding:0">Character validation. The data must only contain characters from the set listed. These may be a literal string enclosed in single or double quotes, a character number or a range of character numbers. Multiple character sets can be given with a comma separator as in this example which allows &quot;abcADEF&quot;.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">D</span></td><td style="border:none;padding:0">A valid date.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">F</span><span style="font-style: italic;">filename</span></td><td style="border:none;padding:0">A record named as the input data exists in <span style="font-style: italic;">filename</span>.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">F</span><span style="font-style: italic;">filename</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Similar to the simple <span style="font-weight: bold;">F</span> validation but, if the record is found, the input data is replaced by the contents of field <span style="font-style: italic;">n</span> of the record. </td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">M</span><span style="font-style: italic;">template</span></td><td style="border:none;padding:0">The input data matches the specified <span style="font-style: italic;">template</span>.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">R</span><span style="font-style: italic;">file</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">rec</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">fld</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">case</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">subst</span></td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"></td><td style="border:none;padding:0">Record <span style="font-style: italic;">rec</span> is read from <span style="font-style: italic;">file</span>. Field <span style="font-style: italic;">fld</span> of this record is scanned for a match with the input data. If <span style="font-style: italic;">case</span> is <span style="font-weight: bold;">X</span>, this scan is case insensitive. If <span style="font-style: italic;">subst</span> is specified, the input data is replaced with the content of the corresponding value of field <span style="font-style: italic;">subst</span> of the record. Field <span style="font-style: italic;">fld</span> may be broken down into subvalues to specify alternative strings all of which are replaced by the value (not subvalue) in <span style="font-style: italic;">subst</span>.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">@</span><span style="font-style: italic;">subrname</span></td><td style="border:none;padding:0">Calls the named user supplied validation subroutine. This subroutine takes three arguments; the return status ( 1 if ok, 0 if error), the data record being processed and the input data field to be validated.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">X</span><span style="font-style: italic;">xxx</span></td><td style="border:none;padding:0">Inverts the condition <span style="font-style: italic;">xxx</span>. For example, XFINDEX would check that there is no record named as the input data in file INDEX.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Input conv</span> (multivalued)</p>
<p>This item holds the conversion to be performed on the input data. The conversion may be multivalued to perform successive conversions. Input conversions are:</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">F</span><span style="font-style: italic;">fmt</span></td><td style="border:none;padding:0">Apply <span style="font-weight: bold;"><a href="qmb_fmt.htm" class="topiclink">FMT()</a></span> using <span style="font-style: italic;">fmt</span> as the format specifier.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">N</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">If the data is numeric, extend it to be right justified in <span style="font-style: italic;">n</span> digits.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">S</span><span style="font-style: italic;">name</span></td><td style="border:none;padding:0">Execute catalogued subroutine <span style="font-style: italic;">name</span>, passing in the field value as argument 2 and replacing it with the valued returned through argument 1.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">T</span><span style="font-style: italic;">file</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">fld</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">code</span></td><td style="border:none;padding:0">Apply <span style="font-weight: bold;"><a href="qmb_trans.htm" class="topiclink">TRANS()</a></span> using the data item as the record id to access field <span style="font-style: italic;">fld</span> of <span style="font-style: italic;">file</span>. The code determines the action if the record is not found. <span style="font-weight: bold;">C</span> returns the record id, <span style="font-weight: bold;">X</span> returns a null string.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">&lt;</span><span style="font-style: italic;">f</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">v</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">s</span><span style="font-weight: bold;">&gt;</span></td><td style="border:none;padding:0">Extract the given field, value or subvalue.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px">Other</td><td style="border:none;padding:0">All other codes are passed to <span style="font-weight: bold;"><a href="qmb_iconv.htm" class="topiclink">ICONV()</a></span>.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Input val 2</span> (multivalued)</p>
<p>The second input validation is performed on the input data after input conversion. This item may be multivalued to perform multiple validations. The data is deemed acceptable if any of the validation criteria are satisfied. Validation codes are as for the first input validation.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Back step</span></p>
<p>The back step item determines whether the back-tab key is allowed and may contain <span style="font-weight: bold;">Y</span>, <span style="font-weight: bold;">N</span> or blank which is taken as <span style="font-weight: bold;">N</span>. If back-tab is allowed, the screen driver will perform the action internally if it has a step history. If there is no step history, the screen driver returns to the calling program with a status indicating that the backstep key was used. The back step will correctly back-track through a repeated step or repeating group.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Next step</span></p>
<p>The next step item defines the action to be taken after the step is completed. It may be multivalued with conditional elements. A null action simply increments the step number. All next step action lists effectively end with a null element which would be executed if all previous elements were conditional and not satisfied.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>An action item comprises three parts; a <span style="font-style: italic;">field reference</span>, a <span style="font-style: italic;">condition</span> and an <span style="font-style: italic;">action</span>. The <span style="font-style: italic;">action</span> is preceded by a colon.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-style: italic;">field reference</span> identifies the field within the screen data which is to be used in the following <span style="font-style: italic;">condition</span>. This may be specified as <span style="font-weight: bold;">&lt;</span><span style="font-style: italic;">field</span><span style="font-weight: bold;">&gt;</span>, <span style="font-weight: bold;">&lt;</span><span style="font-style: italic;">field</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">value</span><span style="font-weight: bold;">&gt;</span> or <span style="font-weight: bold;">&lt;</span>f<span style="font-style: italic;">ield</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">value</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">subvalue</span><span style="font-weight: bold;">&gt;</span>. If omitted entirely (as is usual), the data from the current step is used. If a <span style="font-style: italic;">field reference</span> is included, the <span style="font-style: italic;">condition</span> must also be present.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-style: italic;">condition</span> compares the selected data with a fixed string or numeric value. The generic form of this is <span style="font-weight: bold;">EQ'</span><span style="font-style: italic;">string</span><span style="font-weight: bold;">',</span> <span style="font-weight: bold;">EQ</span><span style="font-style: italic;">number</span> or <span style="font-weight: bold;">EQ&lt;</span><span style="font-style: italic;">f</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">v</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">s</span><span style="font-weight: bold;">&gt;</span>. The operator may be any of <span style="font-weight: bold;">EQ</span>, <span style="font-weight: bold;">NE</span>, <span style="font-weight: bold;">LT</span>, <span style="font-weight: bold;">GT</span>, <span style="font-weight: bold;">LE</span> or <span style="font-weight: bold;">GE</span>. If the <span style="font-style: italic;">condition</span> is omitted, the <span style="font-style: italic;">action</span> is performed unconditionally.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-style: italic;">action</span> may be null to advance to the next step, a step number, a step name or <span style="font-weight: bold;">X</span> to exit to the calling program. Within a repeated step or a repeating group any non-null <span style="font-style: italic;">action</span> terminates the repeat.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Example:  <span style="font-family: 'Courier New',Courier,monospace;">EQ'':X</span> would exit if the field is empty.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Help msg</span></p>
<p>The help message item defines a message to be displayed if the F1 key is pressed. The message may be split over multiple lines by using the F2 multivalue entry feature of <span style="font-weight: bold;">SCRB</span>.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Error msg</span></p>
<p>The error message item defines a message to be displayed if input validation fails in a similar manner to the help message.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Exit key</span></p>
<p>The exit key item defines the action to be taken if the escape key is pressed. The format and processing of this item is as for the next step item except that a null value causes an error message indicating that the exit key is not allowed.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">F2 action</span></p>
<p>The F2 key is used for extended pick-list based help. If this item is blank, F2 is treated the same as other function keys as described below. There are three formats to this item:</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-style: italic;">filename</span><span style="font-weight: bold;">,</span> <span style="font-style: italic;">selection/sort clauses</span><span style="font-weight: bold;">,</span> <span style="font-style: italic;">field names</span></p>
<p style="margin: 0 0 0 30px;">This format causes the screen driver to select records from the specified file using the selection and sort clauses (as for the query processor). A pick list is displayed based on the specified field names (which are space separated and may include I-types). The first field in this list is used as the returned value from the selection. The pick list short cut system described below uses the <span style="font-style: italic;">field name</span> by default. An alternative field may be used by prefixing its name with a &amp; character. The short cut will only work correctly if the list is sorted in ascending order by the short cut field.</p>
<p style="margin: 0 0 0 30px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-style: italic;">#filename</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">record.name</span><span style="font-weight: bold;">,</span><span style="font-style: italic;">sort.field</span>,<span style="font-style: italic;">field.list</span></p>
<p style="margin: 0 0 0 30px;">This format builds a pick list from given file, record, field. The <span style="font-style: italic;">sort.field</span> and <span style="font-style: italic;">field.list</span> reference fields in the named record by number. Dictionary names cannot be used in this action.</p>
<p style="margin: 0 0 0 30px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;">The data is sorted based on the value in the <span style="font-style: italic;">sort.field</span>. The <span style="font-style: italic;">sort.field</span> number may be followed by <span style="font-weight: bold;">R</span> to perform a right justified sort. The <span style="font-style: italic;">field.list</span> is a space separated list of fields to be displayed. The <span style="font-style: italic;">sort.field</span> must be explicitly referenced if it is to be displayed. The first field in <span style="font-style: italic;">field.list</span> contains the value to be returned by the selection process.</p>
<p style="margin: 0 0 0 30px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">@</span><span style="font-style: italic;">subr</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">@</span><span style="font-style: italic;">subr</span><span style="font-weight: bold;">(</span><span style="font-style: italic;">arglist</span><span style="font-weight: bold;">)</span></p>
<p style="margin: 0 0 0 30px;">Calls a user written subroutine <span style="font-style: italic;">subr</span> to generate the list of items to display. This subroutine returns the data to be displayed via its first argument, one field per pick list line each containing a value mark delimited set of data values. The second argument should return the pick list column number (from one) of the column to be used by the short cut system described below. Up to four additional arguments may be passed into the subroutine from <span style="font-style: italic;">arglist</span> which contains literal values separated by commas. No string delimiters are required. </p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The pick list is displayed as a rolling window. The cursor up/down, page up/down, home and end keys may be used to explore this window. Keys corresponding to printable characters cause a short cut jump to a page displaying items starting at the first that commences with the entered character. The return key will place the data displayed in the first column of the selected item into the screen field. The escape key will exit from the pick list processing without entering data into the screen field.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Func keys</span></p>
<p>The screen driver may accept or reject function keys. Entering <span style="font-weight: bold;">Y</span> in this item causes the screen driver to return function keys to the calling program. Entering <span style="font-weight: bold;">N</span> or leaving it blank causes an error message if function keys are used.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Key val</span></p>
<p>This field may contain the name of a validation subroutine that will be called after each input keystroke in the field. The subroutine name is followed by a comma and the error message to be displayed if validation fails.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The subroutine takes three arguments; the returned status (1 if ok, 0 if error), the data record being processed and the input data for the field (not just the last keystroke).</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Special keys</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The screen driver uses the following keys for special purposes. The control key bindings shown after some entries are provided for compatibility with other parts of QM.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">F1</span></td><td style="border:none;padding:0">Help</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">F2</span></td><td style="border:none;padding:0">Pick list help</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">F3</span></td><td style="border:none;padding:0">Delete the contents of the current field</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">F4</span></td><td style="border:none;padding:0">Restore the contents of the current field after incorrect entry</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Return</span></td><td style="border:none;padding:0">Execute the next step action</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Tab</span></td><td style="border:none;padding:0">Treated identically to the return key</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Ctrl-P</span></td><td style="border:none;padding:0">Execute the back step action</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Exit</span></td><td style="border:none;padding:0">Execute the exit key action (Ctrl-X)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Home</span></td><td style="border:none;padding:0">Mode to start of field (Ctrl-A)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">End</span></td><td style="border:none;padding:0">Move to end of field (Ctrl-E)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Cursor left</span></td><td style="border:none;padding:0">Move left one character (Ctrl-B)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Cursor right</span></td><td style="border:none;padding:0">Move right one character (Ctrl-F)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Delete</span></td><td style="border:none;padding:0">Delete character under the cursor (Ctrl-D)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Ctrl-K</span></td><td style="border:none;padding:0">Delete all to right of the cursor</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Backspace</span></td><td style="border:none;padding:0">Delete character before cursor</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Insert</span></td><td style="border:none;padding:0">Toggle overlay mode</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Page up</span></td><td style="border:none;padding:0">Scroll up in pick list display (Esc-V)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Page down</span></td><td style="border:none;padding:0">Scroll down in pick list display (Ctrl-V)</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Within <span style="font-weight: bold;">SCRB</span> itself, the F2 key is used to enter multivalued items such as validation criteria. Input prompts for successive items appear at the bottom of the screen until a null value is entered. </p>

</td></tr></table>

</body>
</html>
