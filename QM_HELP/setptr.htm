<!DOCTYPE html>
<html>
<head>
   <title>SETPTR</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="SETPTR" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "setptr.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">SETPTR</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="setport.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="setup_demo.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">SETPTR</span> command sets print unit characteristics.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Format</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">SETPTR </span><span style="font-style: italic;">unit</span> {<span style="font-weight: bold;">,</span> <span style="font-style: italic;">width</span><span style="font-weight: bold;">, </span><span style="font-style: italic;">depth</span><span style="font-weight: bold;">, </span><span style="font-style: italic;">top.margin</span><span style="font-weight: bold;">, </span><span style="font-style: italic;">bottom.margin</span><span style="font-weight: bold;">, </span><span style="font-style: italic;">mode</span> {<span style="font-weight: bold;">,</span> <span style="font-style: italic;">options</span> }}</p>
<p style="margin: 10px 0 0 30px;"><span style="font-weight: bold;">SETPTR DISPLAY</span> {<span style="font-weight: bold;">LPTR</span> {<span style="font-style: italic;">printer</span>}}</p>
<p style="margin: 10px 0 0 30px;"><span style="font-weight: bold;">SETPTR </span><span style="font-style: italic;">unit</span><span style="font-weight: bold;">,</span> <span style="font-weight: bold;">DISPLAY</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>where</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-style: italic;">unit</span></td><td style="border:none;padding:0">is the print unit number in the range 0 to 255 or the keyword <span style="font-weight: bold;">DEFAULT</span>.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-style: italic;">width</span></td><td style="border:none;padding:0">is the page width in characters, excluding any left margin. This value is used to calculate alignment in query processor reports and headings/footings but does not prevent application programs emitting data that exceeds this width.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-style: italic;">depth</span></td><td style="border:none;padding:0">is the total page length in lines, including the top and bottom margins. This value is used to control insertion of form feeds, headings and footings into the printed data. A value of zero implies no pagination of the output data.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-style: italic;">top.margin</span></td><td style="border:none;padding:0">is the number of lines to be left blank at the top of the page.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-style: italic;">bottom.margin</span></td><td style="border:none;padding:0">is the number of lines to be left blank at the bottom of the page.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-style: italic;">mode</span></td><td style="border:none;padding:0">is the print unit mode:</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 210px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">1</td><td style="border:none;padding:0">Output is sent to a printer.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 210px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">3</td><td style="border:none;padding:0">Output is directed to a hold file.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 210px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">4</td><td style="border:none;padding:0">Output is directed to stderr (standard error, console sessions only).</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 210px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">5</td><td style="border:none;padding:0">Output is directed to the terminal auxiliary printer port.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 210px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">6</td><td style="border:none;padding:0">Output is written to a file and also printed.</td></tr></table></div><p style="text-indent: -150px; margin: 0 0 0 180px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-style: italic;">options</span></td><td style="border:none;padding:0">qualify the destination as described below. There should be a comma between each option.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>If only <span style="font-style: italic;">unit </span>is given, the current settings of the print unit are reported.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Use of the <span style="font-weight: bold;">DEFAULT</span> keyword in place of a unit number records the default values to be used when a new print unit is accessed without prior use of <span style="font-weight: bold;">SETPTR</span> to define its settings. Note that this operation does not affect the default printer, print unit 0, which is configured with standard default settings on entry to QM. These can be changed with a <span style="font-weight: bold;">SETPTR</span> command specifying unit 0. </p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The third form of <span style="font-weight: bold;">SETPTR</span> with a unit number and the <span style="font-weight: bold;">DISPLAY</span> keyword shows the current settings in a form that can be captured by a program and later used to restore the settings by executing a <span style="font-weight: bold;">SETPTR</span> command with the captured value appended.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>When using printer modes 3 or 6, a check is made to see if there is a catalogued subroutine named HOLD.FILE.LOGGER and, if there is, this is called when the file is opened and again when it is closed. This subroutine can be used, for example, to build a log of hold file entries or to take some action after the file has been closed. The subroutine takes three arguments; the print unit number, a flag indicating if this is an open (1) or a close (0), and the pathname of the file being created.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-style: italic;">options</span> available are:</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">AS</span> { <span style="font-weight: bold;">FILE</span> <span style="font-style: italic;">name</span>}</td><td style="border:none;padding:0">Specifies an alternative hold file name instead of the default $HOLD for modes 3 and 6. Use of this option with other mode values will result in an error. The <span style="font-style: italic;">name</span> must reference a directory file.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">AS</span> { <span style="font-weight: bold;">NEXT</span> } {<span style="font-style: italic;"> id</span> }</td><td style="border:none;padding:0">Specifies the hold file record name in modes 3 and 6. Use of this option with other mode values will result in an error. At least one of the optional components must be present.</td></tr></table></div><p style="margin: 0 0 10px 210px;"><span style="font-style: italic;">id</span> is the name of the record to be created in the $HOLD file. If omitted, a default name of P<span style="font-style: italic;">unit</span> is used.</p>
<p style="margin: 0 0 10px 210px;">The optional <span style="font-weight: bold;">NEXT</span> keyword causes QM to attach an underscore and a cyclic sequence number to the end of the name so that successive output is stored separately. Note that this sequence number is shared across all printer output directed to the $HOLD file by all processes, thus two successive jobs from one process may have non-adjacent sequence numbers. The default behaviour is for the sequence number to be four digits, cycling through the range 0001 to 9999. The next available sequence number is stored in field 2 of a record named $NEXT in the dictionary of the $HOLD file. An alternative number of digits in this value may be specified in field 3 of this dictionary record and must be in range 3 to 9. The sequence number can be determined using the <span style="font-weight: bold;"><a href="qmb_getpu.htm" class="topiclink">GETPU()</a></span> function or the <a href="at_variables.htm#seqno" class="topiclink">@SEQNO</a> variable. If <span style="font-style: italic;">id</span> is a quoted null string, the underscore is omitted.</p>
<p style="margin: 0 0 10px 210px;">These two variants of the <span style="font-weight: bold;">AS</span> clause may be combined (<span style="font-weight: bold;">AS FILE</span> <span style="font-style: italic;">name</span> <span style="font-weight: bold;">NEXT</span> <span style="font-style: italic;">id</span>). When used in this way the sequence number management process described above uses the dictionary of the named file. Use of <span style="font-weight: bold;">AS NEXT</span> &quot;&quot; will create items where the name is just the sequence number.</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">AS PATHNAME</span><span style="font-style: italic;"> path</span></td><td style="border:none;padding:0">Specifies the pathname of the output file to be created (not the directory in which it is to be created) for output in modes 3 and 6. Use of this option with other mode values will result in an error.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">AT</span><span style="font-style: italic;"> printer.name</span></td><td style="border:none;padding:0">Specifies the printer name in modes 1 and 6. This name must be enclosed in quotes if it contains spaces or backslashes. The name is case sensitive except on Windows. Note that printing occurs on the server on which QM is running and the printer name must be known to the server.</td></tr></table></div><p style="margin: 0 0 10px 210px;">Mode 5 provides a way to print on printers connected to the client system. For users connecting to QM from AccuTerm using a terminal type with the -at suffix, the <span style="font-weight: bold;">AT</span> option can be used to select a printer name which is known to the client PC.</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">BANNER</span> <span style="font-style: italic;">text</span></td><td style="border:none;padding:0">Set the text to appear on a banner page.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">BRIEF</span></td><td style="border:none;padding:0">Suppresses the normal confirmation prompt before setting the printer characteristics. This is typically used in <span style="font-weight: bold;">SETPTR</span> commands from paragraphs or QMBasic programs.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">COPIES </span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Specifies the number of copies to be printed. Some printers may not handle this option.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">EJECT</span></td><td style="border:none;padding:0">Appends a form feed to the end of the print data.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">ENCODING</span> <span style="font-style: italic;">mode</span></td><td style="border:none;padding:0">Sets the character encoding to be used for this printer. On ECS mode systems, the default behaviour is to output the low order byte of each character which will lead to incorrect printed output if characters outside the 8 bit set appear in the data. On all systems, ECS or non_ECS, the ENCODING option can be used to set a character encoding such as UTF-8. Encoding can be used with all print modes except mode 4 (print to standard error). Used with mode 6 (file and printer), the same encoding applies to both destinations. See <a href="character_encodings.htm" class="topiclink">Character Encodings</a> for a summary of supported encodings. The hyphen in the UTF-8, UCS-2 and UTF-16 encoding names may be omitted.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">FORM.FEED </span><span style="font-style: italic;">mode</span></td><td style="border:none;padding:0">Determines the form feed sequence used by the QMBasic <span style="font-weight: bold;"><a href="qmb_print.htm" class="topiclink">PRINT</a></span> statement. This may be FF or CRFF. The default is CRFF.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">GDI</span></td><td style="border:none;padding:0">Specifies that the GDI mode API calls are to be used to initiate printing on Windows systems. Ignored on other platforms.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">INFORM</span></td><td style="border:none;padding:0">Displays file details when opening a print file in mode 3. Except in phantom or QMClient processes, the session will pause for 1.5 seconds after the message is displayed to allow for situations where the screen would be overwritten.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">KEEP.OPEN</span></td><td style="border:none;padding:0">Keeps the printer open to merge successive printer output. Use the <span style="font-weight: bold;"><a href="printer.htm" class="topiclink">PRINTER CLOSE</a></span> command (not the QMBasic <span style="font-weight: bold;"><a href="qmb_printer_close.htm" class="topiclink">PRINTER CLOSE</a></span> statement) to terminate the print job.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">LANDSCAPE</span></td><td style="border:none;padding:0">When used without the PCL option, this option is passed to the underlying print driver to request landscape format printing where this is supported. On non-Windows platforms, this is equivalent to use of OPTIONS &quot;landscape&quot;.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">LEFT.MARGIN </span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Inserts a margin of <span style="font-style: italic;">n</span> spaces to the left of the printed data.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">NEWLINE </span><span style="font-style: italic;">mode</span></td><td style="border:none;padding:0">Determines the newline sequence used by the QMBasic <span style="font-weight: bold;"><a href="qmb_print.htm" class="topiclink">PRINT</a></span> statement. This may be CR, LF or CRLF. The default is LF.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">NFMT</span></td><td style="border:none;padding:0">Specifies that no page formatting is to be applied to the output data. The entire output is treated as a single page with no further inserted form feeds or top and bottom margins. Use of this mode is essential when sending binary data such as images to the printer.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">NHEAD</span></td><td style="border:none;padding:0">Suppress banner page (default)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">NODEFAULT</span></td><td style="border:none;padding:0">Omitted options normally take their default values. Use of this keyword leaves the option at its current value.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">NOEJECT</span></td><td style="border:none;padding:0">Suppresses the normal page throw at the end of a print job. This option applies to Windows only.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">NOHEAD</span></td><td style="border:none;padding:0">Suppress banner page (default)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">OPTIONS</span> <span style="font-style: italic;">xxx</span></td><td style="border:none;padding:0">Passes the given option(s) to the underlying operating system print spooler (e.g. OPTIONS &quot;landscape&quot; on non-Windows systems). Multiple options may be given as a single quoted qualifier to the OPTIONS setting. </td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">OVERLAY</span> <span style="font-style: italic;">subr</span></td><td style="border:none;padding:0">Identifies a catalogued subroutine that will be executed at the start of each page of output. This subroutine takes a single argument which is the print unit number and can be used to send printer control codes for a graphical page overlay, if required. It should not perform any other printer output. This option is ignored for Windows GDI mode printing.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">PCL</span></td><td style="border:none;padding:0">Specifies that this printer supports PCL. This option cannot be used with GDI mode Windows printers.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">PORTRAIT</span></td><td style="border:none;padding:0">Where supported by the underlying print driver, this keyword specifies that the output is to be printed in portrait format.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">PREFIX </span><span style="font-style: italic;">path</span></td><td style="border:none;padding:0">Sends the contents of the named file to the printer at the start of each job. This can be used to send printer specific commands for features that are not available through other <span style="font-weight: bold;">SETPTR</span> options. This option is ignored for Windows GDI mode printing.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">RAW</span></td><td style="border:none;padding:0">Specifies that the non-GDI mode API calls are to be used to initiate printing on Windows. Ignored on other platforms.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">SPOOLER </span><span style="font-style: italic;">name</span></td><td style="border:none;padding:0">Specifies and alternative spooler to be used on non-Windows systems. If not specified, the spooler selected by the  <span style="font-weight: bold;"><a href="configparams.htm#spooler" class="topiclink">SPOOLER</a></span> configuration parameter is used or, if this is not set, the standard lp spooler is used. The <span style="font-style: italic;">name</span> can include other spooler options if required but must be quoted if it includes spaces or other reserved characters. The actual command executed to print the job will be <span style="font-style: italic;">name</span> with options appropriate to lp added as follows:</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">-n <span style="font-style: italic;">copies</span></td><td style="border:none;padding:0">If <span style="font-weight: bold;">COPIES</span> is greater than 1.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">-d <span style="font-style: italic;">prt.name</span></td><td style="border:none;padding:0">To set the printer name if <span style="font-weight: bold;">AT</span> is used.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">-t <span style="font-style: italic;">banner</span></td><td style="border:none;padding:0">Banner text if <span style="font-weight: bold;">BANNER</span> is used.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">-o &quot;<span style="font-style: italic;">options</span>&quot;</td><td style="border:none;padding:0">Text from <span style="font-weight: bold;">OPTIONS</span> if used.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 240px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">-o &quot;landscape&quot;</td><td style="border:none;padding:0">If <span style="font-weight: bold;">LANDSCAPE</span> is used.</td></tr></table></div><p style="margin: 10px 0 0 210px;">The <span style="font-weight: bold;">SPOOLER</span> option can be used to access another standard operating system spooler package or to direct output to a user written shell script or program to perform custom processing. The $SPOOLERS record in the VOC of the QMSYS account can be used to configure different options from those described above. See <a href="printing.htm" class="topiclink">Printing</a> for details. As an aid to diagnosing printing problems, the SPOOL.COMMAND option of the <span style="font-weight: bold;"><a href="option.htm" class="topiclink">OPTION</a></span> command can be used to display the operating system command used to initiate printing.</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">STYLE </span><span style="font-style: italic;">name</span></td><td style="border:none;padding:0">Specifies the name of an X-type VOC record that defines the query processor report style to be used for all reports directed to this print unit unless overridden by the <span style="font-weight: bold;"><a href="style.htm" class="topiclink">STYLE</a></span> option in the query command.</td></tr></table></div><p style="text-indent: -180px; margin: 0 0 10px 210px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p class="p_Normal"><span style="font-weight: bold;">GDI Printers</span></p>
<p style="margin: 10px 0 0 0;">The following additional options can be used with GDI mode printers on Windows. If neither of the <span style="font-weight: bold;">FONT</span> and <span style="font-weight: bold;">FONT.SIZE</span> options is present, the printer's default font is used, otherwise default values are as shown below.</p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">FONT</span> <span style="font-style: italic;">name</span></td><td style="border:none;padding:0">Sets the font name. Defaults to Courier New if omitted. The font name must be quoted if it contains spaces.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">FONT.SIZE</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Specifies the font size. If <span style="font-style: italic;">n</span> is omitted, specified as zero or DEFAULT, 10 point size is used.</td></tr></table></div><p style="text-indent: -180px; margin: 0 0 10px 210px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">PCL Printers</span></p>
<p style="margin: 10px 0 0 0;">The following additional options are available. Although the values set will be saved and can be accessed by application software, they only affect printing when used with the <span style="font-weight: bold;">PCL</span> option. In many cases, the list of acceptable parameter values can be extended by modifying the SYSCOM $PCLDATA record.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">CPI</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Specifies the number of characters per inch. The value may be non-integer.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">DUPLEX</span></td><td style="border:none;padding:0">Selects duplex (double sided) printing, binding on the long edge.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">DUPLEX SHORT</span></td><td style="border:none;padding:0">Selects duplex (double sided) printing, binding on the short edge.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">FONT</span> <span style="font-style: italic;">name</span></td><td style="border:none;padding:0">Sets the font name. The font name must be quoted if it contains spaces.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">LANDSCAPE</span></td><td style="border:none;padding:0">Prints the page in landscape format.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">LPI</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Specifies the number of lines per inch. The value must be 1, 2, 3, 4, 6, 8, 12, 16, 24 or 48.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-weight: bold;">PAPER.SIZE </span><span style="font-style: italic;">xx</span></td><td style="border:none;padding:0">Specifies the paper size. Valid size names are A4, LETTER, LEGAL, LEDGER, A3, MONARCH, COM_10, DL, C5, B5.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-family: Times,'Times New Roman',Georgia,serif; font-weight: bold;">SYMBOL.SET</span><span style="font-family: Times,'Times New Roman',Georgia,serif;"> </span><span style="font-family: Times,'Times New Roman',Georgia,serif; font-style: italic;">xx</span></td><td style="border:none;padding:0"><span style="font-family: Times,'Times New Roman',Georgia,serif;">Specifies the character set. Valid values of </span><span style="font-family: Times,'Times New Roman',Georgia,serif; font-style: italic;">xx</span><span style="font-family: Times,'Times New Roman',Georgia,serif;"> are ROMAN8 (the default), LATIN1, ASCII, PC8.</span></td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:180px"><span style="font-family: Times,'Times New Roman',Georgia,serif; font-weight: bold;">WEIGHT</span><span style="font-family: Times,'Times New Roman',Georgia,serif;"> </span><span style="font-family: Times,'Times New Roman',Georgia,serif; font-style: italic;">xx</span></td><td style="border:none;padding:0"><span style="font-family: Times,'Times New Roman',Georgia,serif;">Specifies the font weight. Valid values of </span><span style="font-family: Times,'Times New Roman',Georgia,serif; font-style: italic;">xx</span><span style="font-family: Times,'Times New Roman',Georgia,serif;"> are ULTRA-THIN, EXTRA-THIN, THIN, EXTRA-LIGHT, LIGHT, DEMI-LIGHT, SEMI-LIGHT, MEDIUM, SEMI-BOLD, DEMI-BOLD, BOLD, EXTRA-BOLD, BLACK, EXTRA-BLACK, ULTRA-BLACK though specific printers might not support all values.</span></td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>When setting a print unit to PCL mode, if the above parameters are not specified, printing defaults to 10 cpi, 6 lpi, medium weight using A4 paper and the Roman8 symbol set. These defaults can be modified by adding an X-type record named $PCL to the VOC. This record must have an X as the first character of field 1. Remaining fields may contain any of the CPI, LPI , PAPER.SIZE, SYMBOL.SET and WEIGHT parameters as described above. For example:</p>
<p style="margin: 6px 0 0 29px;"><span style="font-family: 'Courier New',Courier,monospace;">0001: X</span></p>
<p style="margin: 0 0 0 29px;"><span style="font-family: 'Courier New',Courier,monospace;">0002: PAPER.SIZE LETTER</span></p>
<p style="margin: 0 0 0 29px;"><span style="font-family: 'Courier New',Courier,monospace;">0003: LPI 5</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Note:</span> The quality of PCL implementations varies widely and these options may not give the expected results on some printers. In particular, setting some font metrics may cause inconsistent character placement. It is the application developer's responsibility to ensure that the printed results are acceptable.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Windows Printing</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>On Windows systems, two styles of interface with the underlying Print Manager are supported. The GDI mode uses the Windows Graphical Device Interface API calls. Non-GDI mode uses an alternative set of API calls. For most purposes, the non-GDI mode is likely to be preferable.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The GDI parameter to SETPTR sets GDI mode and the RAW parameter sets non-GDI mode. The default is normally non-GDI but this can be modified by setting the GDI configuration parameter to 1.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Special Print Modes</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Use of mode 4 (stderr) allows an application developer to direct output from a QM console session to the standard error file handle. It is the user's responsibility to ensure that this points to an appropriate destination as the default settings may cause the screen display to be overwritten. Data sent to a mode 4 printer is output immediately rather than being buffered by QM. Headings, footings and other pagination related features are ignored for printers in mode 4.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Mode 5 print units direct output to the terminal auxiliary printer port, typically to a printer local to the client. The data is buffered by QM until the print unit is closed and then sent to the terminal prefixed by the string defined in the mc5 terminfo entry for the selected terminal type. The data will be followed by the string defined by the mc4 terminfo entry. The mc5/mc4 pair should be set to the control codes necessary to enable/disable the printer port. For users connecting to QM via AccuTerm with a terminal type that has a -at suffix, the <span style="font-weight: bold;">AT</span> option to <span style="font-weight: bold;">SETPTR</span> can be used to select a printer name that is known to the client PC.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">SETPTR DISPLAY</span> command displays a report of the settings of all print units. The optional <span style="font-weight: bold;">LPTR</span> keyword directs this report to a printer.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">The $SETPTR.DEFAULTS VOC Record</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">When setting print unit configuration, the <span style="font-weight: bold;">SETPTR</span> command checks for an X-type record named $SETPTR.DEFAULTS in the VOC &nbsp;or, if not found, in the QMSYS VOC. If this record exists, fields 2 onwards can be used to set default options that will effectively be inserted after the <span style="font-style: italic;">mode</span> value. Each field corresponds to a different print <span style="font-style: italic;">mode</span> such that field 2 is used for mode 1, field 3 is used for mode 2 (currently not supported on QM), field 4 is used for mode 3 and so on. Thus, a $SETPTR.DEFAULTS record that reads</p>
<p class="p_CodeBody"><span class="f_CodeBody">1: X</span></p>
<p class="p_CodeBody"><span class="f_CodeBody">2: NEWLINE CRLF, INFORM</span></p>
<p class="p_Normal">would behave as though these two options were present when setting a print unit into mode 1. Because the default options are inserted between the <span style="font-style: italic;">mode</span> and <span style="font-style: italic;">options</span> elements of the command, they can be overridden by other options specifically set in the command.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p><span style="font-weight: bold;">Examples</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">SETPTR 0,80,66,3,3,1,AT laser,BRIEF</span></p>
<p>Directs print unit 0 output to a printer named &quot;laser&quot; with a page shape of 80 columns by 66 lines and a 3 line top and bottom margin. The BRIEF option suppresses the normal confirmation prompt.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">SETPTR 0,80,66,0,0,3,AS SALES_REPORT,BRIEF</span></p>
<p>Directs print unit 0 output to a record named &quot;SALES_REPORT&quot; in the $HOLD file. The BRIEF option suppresses the normal confirmation prompt.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">SETPTR 0,,,,,3</span></p>
<p>Directs print unit 0 output to the default $HOLD file record (P0), leaving all page shape parameters unchanged.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">See also:</span></p>
<p><a href="printing.htm" class="topiclink">Printing</a>, <span style="font-weight: bold;"><a href="printer.htm" class="topiclink">PRINTER</a></span>, <span style="font-weight: bold;"><a href="set_queue.htm" class="topiclink">SET.QUEUE</a></span>, <span style="font-weight: bold;"><a href="sp_assign.htm" class="topiclink">SP.ASSIGN</a></span></p>

</td></tr></table>

</body>
</html>
