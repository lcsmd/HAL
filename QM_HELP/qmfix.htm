<!DOCTYPE html>
<html>
<head>
   <title>The qmfix Utility</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="qmfix" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "qmfix.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">The qmfix Utility</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="qm_command_options.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="qmidx.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The QM file system is designed to be robust, however, there are situations when power failures, hardware failures or abnormal termination of a process might lead to structural integrity problems within a file.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The qmfix utility can be used to check the structural integrity of a file and, if an error is detected, then apply an automated correction. Although qmfix should always result in the file being usable, there are error situations where data will be lost because it was in memory waiting to be flushed to disk.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">To use qmfix, firstly ensure that no users have the file(s) to be processed open. It is safest to run qmfix when no users are using QM. The qmfix utility is run from the operating system command prompt, not from within QM. The command line is</p>
<p style="margin: 10px 0 10px 30px;">qmfix  <span style="font-style: italic;">options pathname</span></p>
<p class="p_Normal">where</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic;">options</span></td><td style="border:none;padding:0">are case insensitive option codes from the following set:</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 150px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">-B</td><td style="border:none;padding:0">Suppresses progress bar display. This can be of use when capturing the output for later review as repainting of the progress bars may make the captured data less easy to read.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 150px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">-C</td><td style="border:none;padding:0">Check file for errors (implied if B, F, Q and R options all absent)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 150px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">-F</td><td style="border:none;padding:0">Fix errors without querying</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 150px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">-L</td><td style="border:none;padding:0">Log the screen output in qmfix.log</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 150px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">-L<span style="font-style: italic;">path</span></td><td style="border:none;padding:0">Log the screen output in <span style="font-style: italic;">path</span></td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 150px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">-N</td><td style="border:none;padding:0">Suppresses pagination of displayed output</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 150px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">-Q</td><td style="border:none;padding:0">Query before fixing errors</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 150px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">-R</td><td style="border:none;padding:0">Recover space from unused primary and overflow blocks. Occasional use of this function may improve performance of some large files.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 150px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">-S</td><td style="border:none;padding:0">Suppresses output to the screen when used with the -L option.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 150px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px">-X</td><td style="border:none;padding:0">Clears replication target information from all files processed by the command. This can be of use after copying files using operating system tools.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic;">pathname</span></td><td style="border:none;padding:0">is the pathname of the file to be processed. This may be a list of may include wildcard characters. qmfix will ignore names that do not correspond to QM files. Thus, to check all files in a directory, simply type</td></tr></table></div><p style="margin: 10px 0 0 150px;">qmfix *</p>
<p style="margin: 10px 0 0 0;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 10px 0 0 0;">Where <span style="font-style: italic;">pathname</span> refers to a directory, either directly or as part of wildcard expansion, qmfix will recurse down one level to allow for directories that represent multi-files.</p>
<p style="margin: 10px 0 0 0;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p class="p_Normal">Do not run qmfix with the -F option without running it to check for errors first.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Note that qmfix may report that a dynamic has an incorrect load value or record count if the file was not closed properly at a system failure. These errors are unlikely to cause any serious problems and will be corrected by qmfix if the -F option is used and automatically by select operations that complete without any intervening file updates.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">No automated error recovery tool can ever be 100% accurate in its decisions about the nature of errors so there is a very small risk that qmfix could make the situation worse. <span style="font-weight: bold;">Always backup a file before fixing any errors in it.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Rocket Software aims to provide software of the highest quality. We would be very interested to receive copies of any files that are reported as faulty by qmfix so that we can investigate the cause and improve the resilience of the QM product.</p>

</td></tr></table>

</body>
</html>
