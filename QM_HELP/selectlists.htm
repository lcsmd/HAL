<!DOCTYPE html>
<html>
<head>
   <title>Select Lists</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="Select lists" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "selectlists.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">Select Lists</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="locks.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="ak.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Select lists are lists of things to be processed, usually record keys from a file. The list may contain all record keys or only those where the key or record data meets some specified criteria. Using select lists simplifies and speeds up many data processing operations using commands or within QMBasic programs.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>There are two types of select list; numbered lists and select list variables.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Numbered Select Lists</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The eleven numbered select lists are numbered 0 to 10 and are visible to all parts of a QM session. List 0 is referred to as the <span style="font-weight: bold;">default select list</span> and is used by some verbs such as <span style="font-weight: bold;"><a href="copy.htm" class="topiclink">COPY</a></span> to determine the records (or files for some other commands) to be processed.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>With QM in its default modes, numbered select lists are created by the <span style="font-weight: bold;"><a href="select.htm" class="topiclink">SELECT</a></span> or <span style="font-weight: bold;"><a href="select.htm" class="topiclink">SSELECT</a></span> query processor commands. The <span style="font-weight: bold;"><a href="select.htm" class="topiclink">SELECT</a></span> command builds a list of keys of records meeting the specified criteria but with no apparent ordering to the list. The <span style="font-weight: bold;"><a href="select.htm" class="topiclink">SSELECT</a></span> command is similar but the list is in order of record key value. The <span style="font-weight: bold;"><a href="select.htm" class="topiclink">SELECT</a></span> command is faster both during generation of the list and subsequent processing of records as its order reflects the placement of records within the file.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Numbered select lists can also be created by the QMBasic <span style="font-weight: bold;"><a href="qmb_select.htm" class="topiclink">SELECT</a></span> statement. This statement builds a list of all records in the file and provides no means of including or excluding records by selection criteria. Programs can then read keys sequentially from the list using the <span style="font-weight: bold;"><a href="qmb_readnext.htm" class="topiclink">READNEXT</a></span> statement.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Numbered select lists may also be saved to records in the $SAVEDLISTS file using <span style="font-weight: bold;"><a href="save_list.htm" class="topiclink">SAVE.LIST</a></span> and later restored using <span style="font-weight: bold;"><a href="get_list.htm" class="topiclink">GET.LIST</a></span>. Lists that have been written to other files by QMBasic programs may be restored using <span style="font-weight: bold;"><a href="form_list.htm" class="topiclink">FORM.LIST</a></span>. The <span style="font-weight: bold;"><a href="edit_list.htm" class="topiclink">EDIT.LIST</a></span> command allows editing of select lists. Saved select lists may be copied using <span style="font-weight: bold;"><a href="copy_list.htm" class="topiclink">COPY.LIST</a></span>, deleted using <span style="font-weight: bold;"><a href="delete_list.htm" class="topiclink">DELETE.LIST</a></span> or merged using <span style="font-weight: bold;"><a href="merge_list.htm" class="topiclink">MERGE.LIST</a></span>.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>An active numbered select list can be viewed and edited by use of the <span style="font-weight: bold;"><a href="show_list.htm" class="topiclink">SHOW.LIST</a></span> command.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Because the numbered select lists are visible to all parts of a QM session, a list created in the command language may be used by a QMBasic program, or vice versa. Named lists saved to the $SAVEDLISTS file can be shared across separate QM processes. They are often used to create a list of records that may be processed many days later. For example, an application might generate a list of overdue accounts and immediately use this list to send letters to the relevant clients. A saved copy of this list might then be used two weeks later to check if the overdue accounts have now been paid.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A select list represents a &quot;snapshot&quot; of the file at the time when it was generated. Adding, deleting or modifying records will not affect the select list. Thus, if a file may be modified by another process between generation of the select list and retrieval of records for processing, the program must allow for records that have been deleted or no longer meet the selection criteria.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A special type of select list, an <span style="font-weight: bold;">exploded list</span>, is constructed using the <a href="by_exp.htm" class="topiclink">BY.EXP</a> or <a href="by_exp_dsnd.htm" class="topiclink">BY.EXP.DSND</a> keywords of the query processor. In an exploded select list, the multivalued field from which it was created generates a separate entry for each value or subvalue. The internal representation of this list includes information to identify the value and subvalue positions of the corresponding data element. This can be retrieved by the QMBasic <span style="font-weight: bold;"><a href="qmb_readnext.htm" class="topiclink">READNEXT</a></span> statement and is used automatically by some operations within the query processor.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p class="p_Normal">The CLEAR.SELECT mode of the <span style="font-weight: bold;"><a href="option.htm" class="topiclink">OPTION</a></span> command causes the default select list (list 0) to be cleared on return to the command processor unless the program executed by the command uses the <span style="font-weight: bold;"><a href="qmb_keep_select.htm" class="topiclink">KEEP.SELECT</a></span> statement to indicate that the list should be retained. This is needed in programs whose role is to generate a select list for processing by subsequent commands.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Unlike Pick systems, QM does not stack the default select list so that each command processor level sees a different list. This should not be a problem with most applications but could result in an executed query command (SELECT, LIST, etc) unintentionally using the default list. The FROM option to query commands has a special form, FROM NONE, to tell the query processor that the default list is not to be used.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p style="page-break-after: avoid;"><span style="font-weight: bold;">Select List Variables</span></p>
<p style="page-break-after: avoid;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A QMBasic program can create a select list in a variable by using the <span style="font-weight: bold;"><a href="qmb_select.htm" class="topiclink">SELECTV</a></span> statement. This can be processed item by item within the application by use of <span style="font-weight: bold;"><a href="qmb_readnext.htm" class="topiclink">READNEXT</a></span> in the same way as a numbered list. There is no practical limit to the number of separate select list variables that may exist at one time.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">A select list may be moved from one numbered list to another by use of the <span style="font-weight: bold;"><a href="move_list.htm" class="topiclink">MOVE.LIST</a></span> command. The equivalent QMBasic <span style="font-weight: bold;"><a href="qmb_movelist.htm" class="topiclink">MOVELIST</a></span> statement can move either numbered lists or select list variables.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">Directory Files</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">When building a select list from a directory file, items that are considered to be hidden files by the operating system are normally included. The DIR.SEL.OMIT.HIDDEN mode of the <span style="font-weight: bold;"><a href="option.htm" class="topiclink">OPTION</a></span> command can be enabled to omit the hidden items.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p><span style="font-weight: bold;">Pick Compatibility Options</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>To ease migration from Pick style multivalue database products, the PICK.SELECT mode of the <span style="font-weight: bold;"><a href="qmbd_mode.htm" class="topiclink">$MODE</a></span> compiler directive can be used to make <span style="font-weight: bold;">SELECT</span> produce select list variables instead of numbered lists.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Partial Select</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The QMBasic <span style="font-weight: bold;"><a href="qmb_select.htm" class="topiclink">SELECT</a></span>, <span style="font-weight: bold;"><a href="qmb_select.htm" class="topiclink">SELECTN</a></span> and <span style="font-weight: bold;"><a href="qmb_select.htm" class="topiclink">SELECTV</a></span> statements use an optimised method for processing hashed files such that each group is examined only when the record keys are extracted from the select list. This reduces disk transfers and gives better application performance than constructing the entire list in one operation. It also ensures that very large select lists do not require the entire list to be in memory. This overlapping of processing with record selection means that, if the application writes new records while the select list is being processed, these new records may be seen later in the operation.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A similar partial selection mechanism is applied to directory files, reading ids from the underlying operating system directory in bursts of no more than the value of the <a href="configparams.htm#dirselsz" class="topiclink">DIRSELSZ</a> configuration parameter.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>QMClient also provides the ability to perform partial selects.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Some operations such as the QMBasic <span style="font-weight: bold;"><a href="qmb_readlist.htm" class="topiclink">READLIST</a></span> statement or building a select list in a transaction require that the entire list is available and will force immediate completion of the selection process.</p>

</td></tr></table>

</body>
</html>
