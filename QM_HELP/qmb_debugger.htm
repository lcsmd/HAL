<!DOCTYPE html>
<html>
<head>
   <title>QMBasic Debugger</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="$DEBUG.OPTIONS record,Debugger,QMBasic debugger" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "qmb_debugger.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">QMBasic Debugger</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="qmbs_vocrec.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="processdumpfile.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The QM interactive debugger enables the developer to step through an application program in a convenient manner, stopping at desired points and examining data items.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Programs to be debugged must be compiled in debug mode. This can be done in three ways:</p>
<p style="text-indent: 0; padding-left: 13px; margin: 0 0 0 24px;"><span class="f_Normal" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:13px;margin-left:-13px">&#8226;</span>With the DEBUGGING option to the <span style="font-weight: bold;"><a href="basic.htm" class="topiclink">BASIC</a></span> command</p><p style="text-indent: 0; padding-left: 13px; margin: 0 0 0 24px;"><span class="f_Normal" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:13px;margin-left:-13px">&#8226;</span>By including DEBUGGING in the $BASIC.OPTIONS record</p><p style="text-indent: 0; padding-left: 13px; margin: 0 0 0 24px;"><span class="f_Normal" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:13px;margin-left:-13px">&#8226;</span>By including the <span style="font-weight: bold;"><a href="qmbd_debug.htm" class="topiclink">$DEBUG</a></span> compiler directive in the program source</p><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>During application development it is often worth compiling the entire application in debug mode. The small performance impact of running everything in debug mode is usually not significant. Programs compiled without debug mode will run as normal.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Catalogued programs, subroutines and class modules may be debugged in exactly the same way as other programs. Phantom processes and those acting as the server side of a QMClient connection can be debugged using the <span style="font-weight: bold;"><a href="pdebug.htm" class="topiclink">PDEBUG</a></span> command.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The debugger is entered in one of three ways:</p>
<p style="text-indent: 0; padding-left: 13px; margin: 0 0 0 23px;"><span class="f_Normal" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:13px;margin-left:-13px">&#8226;</span>By use of the <span style="font-weight: bold;"><a href="debug.htm" class="topiclink">DEBUG</a></span> command in place of <span style="font-weight: bold;"><a href="run.htm" class="topiclink">RUN</a></span></p><p style="text-indent: 0; padding-left: 13px; margin: 0 0 0 23px;"><span class="f_Normal" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:13px;margin-left:-13px">&#8226;</span>By execution of a <span style="font-weight: bold;"><a href="qmb_debug.htm" class="topiclink">DEBUG</a></span> statement in the program. This can be conditional so that, for example, only sessions run as a specific user name enter the debugger</p><p style="text-indent: 0; padding-left: 13px; margin: 0 0 0 23px;"><span class="f_Normal" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:13px;margin-left:-13px">&#8226;</span>By entering &quot;D&quot; at break key action prompt</p><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The debugger will identify the program from which it was entered and locate the source program record. If this is not available, a warning is displayed and execution of the program continues in non-debug mode though other programs and subroutines called by it will still be subject to debugging if their source records are available.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>When used with QMConsole on a Windows system, via AccuTerm using a terminal type with the -at suffix, or via the largely obsolete QMTerm terminal emulator, the debugger operates in full screen mode. When used on other terminals, the debugger output is mixed with the application output.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span><br />
<span style="font-weight: bold;">Full Screen Mode</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The display is divided into two areas. The upper portion of the screen shows the source program with the line about to be executed highlighted. The lower portion of the screen is used to echo commands and to display their responses. The top line of the screen displays the program name and current line and element number. The display may be toggled between the debugger and the application by use of the F4 key. Full screen mode also supports a control/cursor key style command stack similar to that found at the command prompt.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Where the terminfo definition for the terminal device in use includes mouse support, the full screen debugger additionally displays a menu bar at the top of the screen and a pop-up menu when the mouse is clicked on a source line. All mouse actions in the debugger use the left mouse button.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The top menu is divided into three sub-menus; Run, Debug and View. The Run menu allows the user to step through a program in various ways or to terminate debugging. The Debug menu allows a breakpoint to be set or cleared on the current line. The View menu has options to view the application screen, to show all variables, and to show the call stack.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Clicking on the line number shown to the left of a source line toggles a breakpoint on that line.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Clicking on the source text shows a context sensitive pop-up menu that allows the user to set or clear a breakpoint, show the content of the variable named at the mouse click position or set watch mode on a variable. Debugger actions related to variables in the pop-up menu cannot be used for private variables in local subroutines or functions and cannot include qualifiers for matrix indices or dynamic array references. These advanced options must be accessed via the debugger command prompt.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">Debugger Configuration</span></p>
<p class="p_Normal">&nbsp;</p>
<p>On first entry to the debugger in a QM session, it checks for the presence of an X-type VOC record named $DEBUG.OPTIONS. If this is present, fields 2 onwards may contain configuration data for the debugger. The parameters are case insensitive and are as shown below.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="width:100%; border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; width:249px; padding:0; border:none"><p style="margin: 5px 0 0 0;">NO.SOURCE.WARNING</p>
</td>
<td style="vertical-align:top; width:1114px; padding:0; border:none"><p style="margin: 5px 0 0 0;">Suppresses display of the warning message if the source code for a program module cannot be found.</p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:249px; padding:0; border:none"><p style="margin: 5px 0 0 0;">WINDOW <span style="font-style: italic;">n</span></p>
</td>
<td style="vertical-align:top; width:1114px; padding:0; border:none"><p style="margin: 5px 0 0 0;">Sets the number of lines in the command area of the screen when using the debugger in full screen mode. The value must be in the range 5 to 15.</p>
</td>
</tr>
</table>
</div>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Unrecognised parameters are ignored.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">Using the Debugger</span></p>
<p class="p_Normal">&nbsp;</p>
<p>The current position in a program is referenced by a line number and an element number. Most QMBasic source lines hold only a single element (element 0) but lines with multiple statements separated by semicolons or clauses of <span style="font-weight: bold;"><a href="qmb_if.htm" class="topiclink">IF/THEN/ELSE</a></span> constructs, etc, are considered to represent separate execution elements. The debugger can step line by line or element by element through a program.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The debugger cannot step through statements inserted into a program from an include record. In such cases, it will step over the included statements as though they were part of the immediately preceding statement.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Debugger commands fall into two groups; function keys and word based commands. In many cases both forms are available. Not all terminals support function keys.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Entering a blank line as a debugger command repeats the last command.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Function Key Commands</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>(Some function keys may not be available on all terminal emulations)</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px">F1</td><td style="border:none;padding:0">Display help screen</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px">F2</td><td style="border:none;padding:0">Abort program</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px">F3</td><td style="border:none;padding:0">Stop program</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px">F4</td><td style="border:none;padding:0">Display user screen (normal program output)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px">F5</td><td style="border:none;padding:0">Free run</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px">F6</td><td style="border:none;padding:0">Step over subroutine call (internal or external)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px">F7</td><td style="border:none;padding:0">Step program element</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px">F8</td><td style="border:none;padding:0">Step line</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px">Ctrl-F7</td><td style="border:none;padding:0">Run to parent program / subroutine (internal or external)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px">Ctrl-F8</td><td style="border:none;padding:0">Exit program, returning to parent program or external subroutine</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>If an application dynamically rebinds the codes sent by keys used by the debugger, setting the DEBUG.REBIND.KEYS mode of the <span style="font-weight: bold;"><a href="option.htm" class="topiclink">OPTION</a></span> command will cause the debugger to reset these to the bindings specified in the terminfo entry for the current terminal type on each entry to the debug screen. Note that the debugger cannot revert to the user bindings on exit as it has no way to determine what these were. This feature is available only with AccuTerm.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Word Based Commands</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Where a short form is available, this is the upper case portion of the command as shown. Commands may be entered in any mix of upper and lower case.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">ABORT</span></td><td style="border:none;padding:0">Quit the program, generating an abort.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">BRK</span> {<span style="font-style: italic;">n</span>}</td><td style="border:none;padding:0">Set a breakpoint on line <span style="font-style: italic;">n</span>. Shows breakpoints if <span style="font-style: italic;">n</span> omitted.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">CLR</span></td><td style="border:none;padding:0">Clear all breakpoints.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">CLR</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Clear breakpoint on line <span style="font-style: italic;">n</span>.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">DUMP</span> <span style="font-style: italic;">var path</span></td><td style="border:none;padding:0">Dumps a variable to an operating system level file.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">EP</span></td><td style="border:none;padding:0">Exit program, returning to parent program or external subroutine.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Exit</span></td><td style="border:none;padding:0">Exit subroutine, returning to parent program, internal or external subroutine.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Goto</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Continue execution at line <span style="font-style: italic;">n</span>.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">HELP</span></td><td style="border:none;padding:0">Display help page.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">INFO</span></td><td style="border:none;padding:0">Displays information about the program being debugged.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">PDUMP</span></td><td style="border:none;padding:0">Generate a <a href="processdumpfile.htm" class="topiclink">process dump file</a>.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Quit</span></td><td style="border:none;padding:0">Quit the program, generating an abort.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Run</span></td><td style="border:none;padding:0">Free run.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Run</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Run to line <span style="font-style: italic;">n</span>.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">SET</span> <span style="font-style: italic;">var</span><span style="font-weight: bold;">=</span><span style="font-style: italic;">value</span></td><td style="border:none;padding:0">Change content of a program variable (see below)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">STACK</span></td><td style="border:none;padding:0">Display the call stack. The current program is shown first.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Step</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Execute <span style="font-style: italic;">n</span> lines.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Step .</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Execute <span style="font-style: italic;">n</span> elements.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">StepOver</span></td><td style="border:none;padding:0">Step over subroutine call (internal or external)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">STOP</span></td><td style="border:none;padding:0">Quit the program, generating a stop.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">UnWatch</span></td><td style="border:none;padding:0">Cancels an active watch action.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">View</span></td><td style="border:none;padding:0">Display user screen (normal program output)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">Watch</span> {<span style="font-style: italic;">var</span>}</td><td style="border:none;padding:0">Watches the named variable (see below). Shows watched variable if <span style="font-style: italic;">var</span> omitted.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">XEQ</span> <span style="font-style: italic;">command</span></td><td style="border:none;padding:0">Execute <span style="font-style: italic;">command</span>. Note that some commands may interfere with correct operation of the debugger.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">^</span></td><td style="border:none;padding:0">Toggle expansion of non-printing characters.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The following commands apply only to full screen mode debugging:</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">SRC</span></td><td style="border:none;padding:0">Revert to default program source display</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">SRC</span> <span style="font-style: italic;">name</span></td><td style="border:none;padding:0">Show source of program <span style="font-style: italic;">name</span>.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">SRC</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Display around line <span style="font-style: italic;">n</span> of currently displayed program.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">SRC +</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Move display forward <span style="font-style: italic;">n</span> lines in program.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">SRC -</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Move display backward <span style="font-style: italic;">n</span> lines in program.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">WINdow</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Sets the number of lines (range 5 to 15) in the command area of the screen.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The following commands apply only to non-full screen mode debugging:</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">SRC</span></td><td style="border:none;padding:0">Display current source line</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">SRC</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Display source line <span style="font-style: italic;">n</span>. Entering a blank debugger command line after this command will display the next source line.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 10px 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:150px"><span style="font-weight: bold;">SRC</span> <span style="font-style: italic;">n</span><span style="font-style: italic; font-weight: bold;">,</span><span style="font-style: italic;">m</span></td><td style="border:none;padding:0">Display <span style="font-style: italic;">m</span> lines starting at source line <span style="font-style: italic;">n</span>. The value of <span style="font-style: italic;">m</span> is limited to three lines less than the screen size. Entering a blank debugger command line after this command will display the next <span style="font-style: italic;">m</span> source lines.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Displaying Program Variables</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Entering a variable name preceded or followed by a slash (/) or a question mark (?) displays the type and content of the given variable (<span style="font-style: italic;">var</span>/, /<span style="font-style: italic;">var</span>, <span style="font-style: italic;">var</span>?, ?<span style="font-style: italic;">var</span>). This name may be local variable or a variable in a common block defined in the current program. If the common block has not been linked at the time the command is entered, the variable will appear as unassigned. For programs compiled with case insensitive names, the debugger is also case insensitive.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Private local variables in a subroutine declared using the <span style="font-weight: bold;">LOCAL</span> statement can be referenced using a name formed by concatenating the subroutine name and variable name with a colon between them. If a local subroutine is executed recursively, it is only possible to view the current instance of the variables. To simplify display of another variable from the same local subroutine, a name of the form :var assumes the same local subroutine name as the previous local variable reference.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Except as described below, the debugger will not recognise names defined using <span style="font-weight: bold;"><a href="qmb_equate.htm" class="topiclink">EQUATE</a></span> or <span style="font-weight: bold;"><a href="qmbd_define.htm" class="topiclink">$DEFINE</a></span>.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The debugger recognises variable names <span style="font-weight: bold;"><a href="qmb_status.htm" class="topiclink">STATUS()</a></span>, <span style="font-weight: bold;"><a href="qmb_inmat.htm" class="topiclink">INMAT()</a></span>, <span style="font-weight: bold;"><a href="qmb_col1.htm" class="topiclink">COL1()</a></span>, <span style="font-weight: bold;"><a href="qmb_col2.htm" class="topiclink">COL2()</a></span> and <span style="font-weight: bold;"><a href="qmb_os_error.htm" class="topiclink">OS.ERROR()</a></span> to display the corresponding system variable. All @-variables may also be displayed except for <a href="at_variables.htm#voc" class="topiclink">@VOC</a> (which is a file variable) and those representing constants such as @FM and @TRUE.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p class="p_Normal">When debugging an object instance, the names of arguments to a public subroutine or function are not known to the debugger. Instead, a special positional reference of the form &quot;*Arg1&quot; is needed when displaying argument variables. The *Arg prefix is case insensitive and the argument number may include leading zeroes. For example, display of the second argument could use a debugger command such as</p>
<p class="p_CodeSingleLine"><span class="f_CodeSingleLine">/*arg2</span></p>
<p class="p_Normal">All of the qualifiers to variable references such as array indices and dynamic array element positions may be used.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Display of long strings is broken into short sections to fit the available display space. Entering <span style="font-weight: bold;">Q</span> at the continuation prompt will terminate display.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>When displaying strings with an active remove pointer, the position of this pointer is also shown.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>If the variable is a matrix, the name may be followed by the index value(s) for the element to be displayed. Entry of the name without an index will display the dimensions of the matrix. Subsequent presses of the return key display successive elements of the matrix until either all elements have been displayed or another command is entered.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">CLI.REC/</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace; font-style: italic;">Array: Dim (20)</span></p>
<p style="margin: 0 0 0 30px;">&lt;return&gt;</p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace; font-style: italic;">CLI.REC(0) = Unassigned</span></p>
<p style="margin: 0 0 0 30px;">&lt;return&gt;</p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace; font-style: italic;">CLI.REC(1) = String (8 bytes): &quot;J Watson&quot;</span></p>
<p style="margin: 0 0 0 30px;">&lt;return&gt;</p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace; font-style: italic;">CLI.REC(2) = 13756</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">CLI.REC(8)/</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace; font-style: italic;">Integer: 86</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The variable name may be followed by a field, value or subvalue reference which will be used to restrict the display if the data is a string. Note that this qualifier has no effect on other data types.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">REC/</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace; font-style: italic;">String (11 bytes,R=4): &quot;487</span><span style="font-size: 6pt; font-family: 'Courier New',Courier,monospace; font-style: italic;">FM</span><span style="font-family: 'Courier New',Courier,monospace; font-style: italic;">912</span><span style="font-size: 6pt; font-family: 'Courier New',Courier,monospace; font-style: italic;">VM</span><span style="font-family: 'Courier New',Courier,monospace; font-style: italic;">338&quot;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">REC&lt;1&gt;/</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace; font-style: italic;">String (3 bytes): &quot;487&quot;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">REC&lt;2,1&gt;/</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace; font-style: italic;">String (3 bytes): &quot;912&quot;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Entering a slash alone will repeat the most recent display command.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Analysis of very large character strings is sometime easier from outside the debugger. The <span style="font-weight: bold;">DUMP</span> command can be used to dump the contents of a variable to an operating system level file that can then be processed with other tools.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">/*</span> command, available in full screen mode only, displays all variables in the program, one per line. The page up, page down, cursor up and cursor down keys can be used to move through the data. When the current line marker in the leftmost column is positioned on an array or a data collection, pressing the return key shows the elements of the item. When positioned on a character string, pressing the return key shows the string data in hexadecimal and character form. In all cases, the Q key returns to the previous screen.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Changing Program Variables</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">SET</span> command can be used to alter the value of a variable.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:239px">SET <span style="font-style: italic;">var</span> = <span style="font-style: italic;">value</span></td><td style="border:none;padding:0">to set a numeric value</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:239px">SET <span style="font-style: italic;">var</span> = &quot;<span style="font-style: italic;">string</span>&quot;</td><td style="border:none;padding:0">to set a string value. Double quotes, single quotes or backslashes may be used to enclose the string.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:239px">SET <span style="font-style: italic;">var</span> = true</td><td style="border:none;padding:0">to set a Boolean True value</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:239px">SET <span style="font-style: italic;">var</span> = false</td><td style="border:none;padding:0">to set a Boolean False value</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:239px">SET <span style="font-style: italic;">var</span> = null</td><td style="border:none;padding:0">to set an SQL style null value</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:239px">SET <span style="font-style: italic;">var</span>(<span style="font-style: italic;">row</span>,<span style="font-style: italic;">col</span>) = <span style="font-style: italic;">value</span></td><td style="border:none;padding:0">to set a matrix element</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Watching Variables</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">WATCH</span> command causes the debugger to monitor the named variable.</p>
<p class="p_CodeSingleLine">WATCH <span style="font-style: italic;">var</span></p>
<p>Whenever a value is assigned to this variable (even if the value is the same as currently stored), the debugger will stop program execution and display the new value. Only one variable can be watched at a time.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>There is an extended form of <span style="font-weight: bold;">WATCH</span> that will only report the new value and stop if the value meets a specific condition. This form of <span style="font-weight: bold;">WATCH</span> is</p>
<p class="p_CodeSingleLine">WATCH <span style="font-style: italic;">var op value</span></p>
<p>where </p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 6px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-style: italic;">var</span></td><td style="border:none;padding:0">is the variable to watch.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 6px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-style: italic;">op</span></td><td style="border:none;padding:0">is the operator used to test the condition. This may be any of the standard relational operators (=, #, &lt;, &gt;, &lt;=, &gt;=, EQ, NE, LT, GT, LE, GE) or the LIKE or MATCHES operator for pattern matching. The debugger supports UNLIKE in this context.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 6px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-style: italic;">value</span></td><td style="border:none;padding:0">is the value to be used for comparison. This may be a number or a string enclosed in single quotes, double quotes or backslashes.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">UNWATCH</span> command cancels the watch action. The watch action is automatically cancelled when the watched variable ceases to exist. This might be return from the program in which the variable exists, re-dimensioning a common block, etc.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Referencing Equate Tokens</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>If a program is compiled in debug mode and with the $MODE DEBUG.EQUATES compiler mode enabled, equate tokens from <span style="font-weight: bold;"><a href="qmb_equate.htm" class="topiclink">EQUATE</a></span> or <span style="font-weight: bold;"><a href="qmbd_define.htm" class="topiclink">$DEFINE</a></span> used in the program source code can also be used in the debugger for displaying, changing and watching variables.</p>

</td></tr></table>

</body>
</html>
