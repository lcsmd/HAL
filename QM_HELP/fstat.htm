<!DOCTYPE html>
<html>
<head>
   <title>FSTAT</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="FSTAT" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "fstat.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">FSTAT</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="form_list.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="fstat_user.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">FSTAT</span> command collects and report file access statistics.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Format</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:270px"><span style="font-weight: bold;">FSTAT ON</span> <span style="font-style: italic;">file.name</span>...</td><td style="border:none;padding:0">Enable statistic collection</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:270px"><span style="font-weight: bold;">FSTAT</span> <span style="font-style: italic;">file.name</span>... {<span style="font-weight: bold;">LPTR</span>}</td><td style="border:none;padding:0">Report statistics</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:270px"><span style="font-weight: bold;">FSTAT OFF</span> <span style="font-style: italic;">file.name</span>...</td><td style="border:none;padding:0">Disable statistics collection</td></tr></table></div><p style="text-indent: -270px; margin: 0 0 0 300px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:270px"><span style="font-weight: bold;">FSTAT GLOBAL</span> {<span style="font-weight: bold;">LPTR</span>}</td><td style="border:none;padding:0">Report global system statistics</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:270px"><span style="font-weight: bold;">FSTAT RESET</span></td><td style="border:none;padding:0">Clear global statistics counters</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:270px"><span style="font-weight: bold;">FSTAT</span></td><td style="border:none;padding:0">Periodic global statistics display</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>where</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic;">file.name</span></td><td style="border:none;padding:0">is the name of the file to be processed. Multiple file names may be included in a single command. Alternatively, if no <span style="font-style: italic;">file.name</span> is specified and the default select list is active, this list will be used to determine the files to be processed.</td></tr></table></div><p style="text-indent: -90px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-weight: bold;">LPTR</span></td><td style="border:none;padding:0">directs the report to the default printer. When reporting for multiple files, each file's data appears on a separate page.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">FSTAT</span> command controls collection and reporting of file access statistics for dynamic files and any associated alternate key indices. Directory files cannot be used with this command but are included in the global statistics.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Use of <span style="font-weight: bold;">FSTAT</span> with the <span style="font-weight: bold;">ON</span> keyword clears the statistics counters associated with the file and enables collection of statistics. The overhead for data collection is extremely low except that a file that is opened to read only a few records will require a write to update the counters on disk when the file is closed. The <span style="font-weight: bold;"><a href="listf.htm" class="topiclink">LISTF</a></span>, <span style="font-weight: bold;"><a href="listf.htm" class="topiclink">LISTFL</a></span> and <span style="font-weight: bold;"><a href="listf.htm" class="topiclink">LISTFR</a></span> commands can be used to determine which files have file statistics enabled.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The second form of <span style="font-weight: bold;">FSTAT</span> displays or prints a report of the file access statistics. Data collection must be enabled when this mode is used. When using a select list, entries that do not correspond to dynamic files for which statistics are enabled will be ignored.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Use of <span style="font-weight: bold;">FSTAT</span> with the <span style="font-weight: bold;">OFF</span> keyword disables collection of statistics.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">GLOBAL</span> keyword displays a report of statistics accumulated across all files regardless of whether statistics collection is enabled for the individual files. The global counters are reset when QM is started. On Windows NT and later, this occurs automatically when the last user leaves QM unless QMSvc has been configured to maintain a persistent shared memory image. The counters can be reset manually by use of the <span style="font-weight: bold;">RESET</span> keyword.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Use of the <span style="font-weight: bold;">FSTAT</span> command with no arguments displays a periodic display of the global statistics, updated once per second. This shows four columns; the overall data since the counts were last reset, the data since <span style="font-weight: bold;">FSTAT</span> was entered, the data for the last second and average per-second values since <span style="font-weight: bold;">FSTAT</span> was entered.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The figures displayed by <span style="font-weight: bold;">FSTAT</span> are:</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">Opens</td><td style="border:none;padding:0">The number of times the file has been opened.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">Reads</td><td style="border:none;padding:0">The number of read operations performed. This covers all types of read action (e.g. <a href="qmb_read.htm" class="topiclink">READ</a>, <a href="qmb_readu.htm" class="topiclink">READU</a>, <a href="qmb_readl.htm" class="topiclink">READL</a>, <a href="qmb_matread.htm" class="topiclink">MATREAD</a>, <a href="qmb_matread.htm" class="topiclink">MATREADU</a>, <a href="qmb_matread.htm" class="topiclink">MATREADL</a>, etc). Reads that fail because a lock is held by another user are not counted.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">Writes</td><td style="border:none;padding:0">The number of write operations performed.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">Deletes</td><td style="border:none;padding:0">The number of delete operations performed. This includes deletes attempted for records that did not exist.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">Clears</td><td style="border:none;padding:0">The number of times the file was cleared.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">Selects</td><td style="border:none;padding:0">The number of QMBasic style <a href="qmb_select.htm" class="topiclink">SELECT</a> operations performed.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">Splits</td><td style="border:none;padding:0">The number of dynamic file split actions.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">Merges</td><td style="border:none;padding:0">The number of dynamic file merge actions.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">AK Reads</td><td style="border:none;padding:0">The number of records read from alternate key indices. This includes both application level reads (e.g. <a href="qmb_selectindex.htm" class="topiclink">SELECTINDEX</a>) and internal reads performed when updating an AK.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">AK Writes</td><td style="border:none;padding:0">The number of records written to alternate key indices.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">AK Deletes</td><td style="border:none;padding:0">The number of records deleted from alternate key indices.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px">Cache Hits</td><td style="border:none;padding:0">The number of records found in the record cache. See the <a href="configparams.htm#reccache" class="topiclink">RECCACHE</a> configuration parameter.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Example</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GLOBAL FILE STATISTICS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12:02:33</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ........System &nbsp;.........Total &nbsp;.............. &nbsp;.......Average</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .........Total &nbsp;......this run &nbsp;.......Per sec &nbsp;.......per sec</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">Period &nbsp; &nbsp; &nbsp; 00:17:05 &nbsp; &nbsp;00:00:34</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">Opens &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 124 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; 0.0</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">Reads &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;273161 &nbsp; &nbsp; &nbsp;143505 &nbsp; &nbsp; &nbsp; &nbsp;4228 &nbsp; &nbsp; &nbsp;4220.7</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">Writes &nbsp; &nbsp; &nbsp; &nbsp; 258086 &nbsp; &nbsp; &nbsp;134876 &nbsp; &nbsp; &nbsp; &nbsp;3958 &nbsp; &nbsp; &nbsp;3966.9</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">Deletes &nbsp; &nbsp; &nbsp; &nbsp; 13901 &nbsp; &nbsp; &nbsp; &nbsp;8628 &nbsp; &nbsp; &nbsp; &nbsp; 269 &nbsp; &nbsp; &nbsp; 253.8</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">Clears &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; 0.0</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">Selects &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; 0.0</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">Splits &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4937 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; 0.3</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">Merges &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; 0.0</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">AK Reads &nbsp; &nbsp; &nbsp; 501091 &nbsp; &nbsp; &nbsp;269179 &nbsp; &nbsp; &nbsp; &nbsp;7924 &nbsp; &nbsp; &nbsp;7917.0</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">AK Writes &nbsp; &nbsp; &nbsp;344094 &nbsp; &nbsp; &nbsp;178509 &nbsp; &nbsp; &nbsp; &nbsp;5221 &nbsp; &nbsp; &nbsp;5250.3</span></p>
<p style="page-break-inside: avoid; margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">AK Deletes &nbsp; &nbsp; 156997 &nbsp; &nbsp; &nbsp; 90670 &nbsp; &nbsp; &nbsp; &nbsp;2705 &nbsp; &nbsp; &nbsp;2666.8</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">See also:</span></p>
<p class="p_Normal"><span style="font-weight: bold;"><a href="fstat_user.htm" class="topiclink">FSTAT.USER</a></span>, <span style="font-weight: bold;"><a href="profiler.htm" class="topiclink">PROFILER</a></span></p>

</td></tr></table>

</body>
</html>
