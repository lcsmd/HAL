<!DOCTYPE html>
<html>
<head>
   <title>CONFIGURE.FILE</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="CONFIGURE.FILE,GROUP.SIZE,LARGE.RECORD,MERGE.LOAD,MINIMUM.MODULUS,PATHNAME,SPLIT.LOAD,VERSION" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "configure_file.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">CONFIGURE.FILE</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="config.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="copy.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">CONFIGURE.FILE</span> command changes the configuration of a file.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Format</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">CONFIGURE.FILE</span> {<span style="font-weight: bold;">DICT</span>} <span style="font-style: italic;">file.name &nbsp;parameters</span> {<span style="font-weight: bold;">REPORTING</span>}</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>where</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-style: italic;">file.name</span></td><td style="border:none;padding:0">is the name of the file to be configured.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 150px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-style: italic;">parameters</span></td><td style="border:none;padding:0">are the new settings of the file configuration parameters. The following parameters may be specified:</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">DYNAMIC</span></td><td style="border:none;padding:0">converts file to dynamic hashed type. Ignored if file is already dynamic.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">DIRECTORY</span></td><td style="border:none;padding:0">converts file to directory type. Ignored if file is already a directory.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">DEFAULT</span></td><td style="border:none;padding:0">resets all parameters to their default values.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">CASE</span></td><td style="border:none;padding:0">converts the file to use case sensitive record ids.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">ECS {&quot;</span><span style="font-style: italic;">map.name</span><span style="font-weight: bold;">&quot;}</span></td><td style="border:none;padding:0">sets ECS mode on file</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">ENCODING</span> <span style="font-style: italic;">name</span></td><td style="border:none;padding:0">sets encoding name for directory file &nbsp; &nbsp; &nbsp; &nbsp;</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">GROUP</span> <span style="font-style: italic;">gid</span></td><td style="border:none;padding:0">sets the group ownership of the file using either a group number or a group name (not Windows)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">GROUP.SIZE </span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">sets the group size in units of 1024 bytes. Values in the range 1 to 8 are permitted but for best performance should be a power of two.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">IMMEDIATE</span></td><td style="border:none;padding:0">causes an immediate file resize, if required, releasing unused primary subfile group space.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">LARGE.RECORD</span> <span style="font-style: italic;">bytes</span></td><td style="border:none;padding:0">sets the large record size in bytes.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">MERGE.LOAD</span> <span style="font-style: italic;">pct</span></td><td style="border:none;padding:0">sets the merge load factor for the file.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">MINIMUM.MODULUS</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">sets the minimum modulus for the file. Any positive non-zero value may be used.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">MODE</span> <span style="font-style: italic;">ddd</span>{<span style="font-weight: bold;">:</span><span style="font-style: italic;">sss</span>}</td><td style="border:none;padding:0">sets the file permissions modes where <span style="font-style: italic;">ddd</span> is desired mode settings for the directory that represents the file. This must be a three digit octal value as used in the Linux chmod command. The optional <span style="font-style: italic;">sss</span> component is the mode settings to be applied to the items in this directory. If <span style="font-style: italic;">sss</span> is omitted, the <span style="font-style: italic;">ddd</span> value is used. (not Windows)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">NEXT</span> <span style="font-style: italic;">n</span></td><td style="border:none;padding:0">sets the next sequential record id to be used by the CREATING.SEQKEY option of the <span style="font-weight: bold;"><a href="qmb_write.htm" class="topiclink">WRITE</a></span> statement.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">NEXT QUERY</span></td><td style="border:none;padding:0">displays the next sequential record id to be used by the CREATING.SEQKEY option of the <span style="font-weight: bold;"><a href="qmb_write.htm" class="topiclink">WRITE</a></span> statement.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">NO.CASE</span></td><td style="border:none;padding:0">converts the file to use case insensitive record ids.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">NO.ECS</span></td><td style="border:none;padding:0">clears ECS mode on file.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">NO.MAP</span></td><td style="border:none;padding:0">suppresses mapping of characters in directory file record names that are normally restricted. This option affects only the data portion of the file and is therefore invalid when the <span style="font-weight: bold;">DICT</span> keyword is present. Note that when this option is used the application is responsible for ensuring that record names comply with operating system file name rules. &nbsp;See <a href="directoryfiles.htm" class="topiclink">directory files</a> for more information.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">NO.RESIZE</span></td><td style="border:none;padding:0">disables file resizing.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">RESIZE</span></td><td style="border:none;padding:0">enables file resizing.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">SPLIT.LOAD</span> <span style="font-style: italic;">pct</span></td><td style="border:none;padding:0">sets the split load factor for the file.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">TO.LOWERCASE</span></td><td style="border:none;padding:0">set the file to force record ids to lowercase (directory files only).</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">TO.UPPERCASE</span></td><td style="border:none;padding:0">set the file to force record ids to uppercase (directory files only).</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">USER</span> <span style="font-style: italic;">uid</span></td><td style="border:none;padding:0">sets the user ownership of the file using either a user number or a user name (not Windows)</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 182px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:203px"><span style="font-weight: bold;">VERSION</span> <span style="font-style: italic;">vno</span></td><td style="border:none;padding:0">allows configuration of the file for compatibility with versions of QM prior to release 2.2-0.</td></tr></table></div><p style="text-indent: -240px; margin: 10px 0 0 422px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="text-indent: -240px; margin: 0 0 0 270px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Parameters which are not specified retain their existing values.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">CONFIGURE.FILE</span> command adjusts the settings of one or more file parameters. Changes to the file type or group size result in immediate restructuring of the file and require exclusive access. The REPORTING option will show progress. Changes only affecting other <a href="dynamicfiles.htm" class="topiclink">dynamic file parameters</a> will occur steadily as the file is updated unless the IMMEDIATE option is used. </p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Note that converting a file from case sensitive ids to case insensitive ids will result in loss of data if the file contains records that have ids with alternative casing of the same text.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The NO.RESIZE option disables the normal automatic split/merge operations that occur in dynamic files. The IMMEDIATE option can be used later to force the deferred splits/merges to be applied. See the description of <a href="dynamicfiles.htm" class="topiclink">dynamic files</a> for more details on the use of this feature.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The resizing operations of the IMMEDIATE option are fully interruptible and can be performed while the file is in use.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Deleting records from a dynamic hashed file merges groups to keep the file load value between the merge load and split load but does not release any free space back to the operating system as it is highly likely to be needed again soon. The free space can be forcibly released with</p>
<p class="p_CodeTopLine"><span class="f_CodeTopLine">CONFIGURE.FILE filename RESIZE IMMEDIATE</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_BoldSubheading"><span class="f_BoldSubheading">Reconfiguring the VOC</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">CONFIGURE.FILE</span> command needs exclusive access to the file that is being reconfigured. Because the VOC file is permanently open, reconfiguration of this file can only be done from another account. Also, the file.name must reference an <a href="voc_f.htm" class="topiclink">F-type</a> VOC entry, not a Q-pointer. The process therefore becomes:</p>
<p style="text-indent: 0; padding-left: 20px; margin: 0 0 0 24px;"><span class="f_Normal" style="display:inline-block;width:20px;margin-left:-20px">1.</span>Logto another account (e.g. QMSYS)</p><p style="text-indent: 0; padding-left: 20px; margin: 0 0 0 24px;"><span class="f_Normal" style="display:inline-block;width:20px;margin-left:-20px">2.</span>Create an F-type VOC entry that points to the VOC of the original account</p><p style="text-indent: 0; padding-left: 20px; margin: 0 0 0 24px;"><span class="f_Normal" style="display:inline-block;width:20px;margin-left:-20px">3.</span>Do the CONFIGURE.FILE command</p><p style="text-indent: 0; padding-left: 20px; margin: 0 0 0 24px;"><span class="f_Normal" style="display:inline-block;width:20px;margin-left:-20px">4.</span>Delete the F-type VOC entry</p><p style="text-indent: 0; padding-left: 20px; margin: 0 0 0 24px;"><span class="f_Normal" style="display:inline-block;width:20px;margin-left:-20px">5.</span>Logto the original account</p><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Examples</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">CONFIGURE.FILE STOCK MINIMUM.MODULUS 200 SPLIT.LOAD 75</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>This command changes the minimum modulus and split load percentage of the STOCK file. The actual change will take effect as the file is updated by future access.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">CONFIGURE.FILE STOCK DIRECTORY</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>This command changes the file to be a directory file.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">CONFIGURE.FILE STOCK DIRECTORY ENCODING UTF-8</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>This is similar to the previous example but sets the file to use UTF-8 encoding.</p>
<p style="margin: 0 0 0 30px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">CONFIGURE.FILE STOCK DYNAMIC ECS</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>This command converts the STOCK file to an ECS mode dynamic file.</p>

</td></tr></table>

</body>
</html>
