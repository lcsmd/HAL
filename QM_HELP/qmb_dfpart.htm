<!DOCTYPE html>
<html>
<head>
   <title>DFPART()</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="DFPART()" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "qmb_dfpart.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">DFPART()</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="qmb_deleteseq.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="qmb_digest.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">DFPART()</span> function returns a file variable that references an individual part of a <a href="distributed_files.htm" class="topiclink">distributed file</a>.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Format</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">DFPART(</span><span style="font-style: italic;">dist.file</span><span style="font-weight: bold;">,</span><span style="font-style: italic;"> part</span><span style="font-weight: bold;">)</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>where</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic;">dist.file</span></td><td style="border:none;padding:0">is the file variable referencing a distributed file.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic;">part</span></td><td style="border:none;padding:0">is the part number of the part to be accessed.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">DFPART()</span> function allows a QMBasic program to refer to a specific part within a distributed file. It is of use, for example, with <span style="font-weight: bold;"><a href="qmb_fileinfo.htm" class="topiclink">FILEINFO()</a></span> to obtain details of a specific part or when constructing programs that need to merge index entries from multiple part files.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A list of part numbers can be obtained using the <span style="font-weight: bold;"><a href="qmb_fileinfo.htm" class="topiclink">FILEINFO()</a></span> function with key FL$PARTS. These part numbers can then be used with <span style="font-weight: bold;">DFPART()</span> to access the individual part files. If the <span style="font-style: italic;">part</span> argument does not reference a valid part number, the program will abort with a run time error.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Examples</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">OPEN 'ORDERS' TO ORD.F ELSE STOP 'Cannot open file'</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">PARTS = FILEINFO(ORD.F, FL$PARTS)</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">FOR EACH PT IN PARTS</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; DISPLAY 'Part ' : PT : ' modulus ' : FILEINFO(DFPART(ORD.F,PT), FL$MODULUS)</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">NEXT PT</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The above program reports the modulo values for each part file in the ORDERS distributed file.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">OPEN 'ORDERS' TO ORD.F ELSE STOP 'Cannot open file'</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">PARTS = FILEINFO(ORD.F, FL$PARTS)</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">LIST = ''</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">FOR EACH PT IN PARTS</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; AK.F = DFPART(ORD.F,PT)</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; SETLEFT 'VALUE' FROM AK.F</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; LOOP</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; &nbsp; &nbsp;SELECTRIGHT 'VALUE' FROM AK.F SETTING AK.KEY TO 1</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; UNTIL STATUS()</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; UNTIL AK.KEY &gt; 100</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; &nbsp; &nbsp;READLIST S FROM 1 THEN LIST&lt;-1&gt; = S</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; REPEAT</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">NEXT PT</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The index scanning operations are not available for distributed files because the indices are separate for each part file. The above program effectively merges index data from each part file within the ORDERS distributed file. In this example, LIST is created as a list ids for records where the VALUE item is less than 100.</p>

</td></tr></table>

</body>
</html>
