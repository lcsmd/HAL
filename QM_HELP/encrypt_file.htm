<!DOCTYPE html>
<html>
<head>
   <title>ENCRYPT.FILE</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="ENCRYPT.FILE" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "encrypt_file.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">ENCRYPT.FILE</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="enable_publishing.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="execute_list.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">ENCRYPT.FILE</span> command sets the data encryption key for specific fields or the entire record.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Format</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">ENCRYPT.FILE</span> <span style="font-style: italic;">filename</span> <span style="font-style: italic;">field</span><span style="font-weight: bold;">,</span> <span style="font-style: italic;">keyname </span>...</p>
<p style="margin: 10px 0 0 30px;"><span style="font-weight: bold;">ENCRYPT.FILE</span> <span style="font-style: italic;">filename</span> <span style="font-style: italic;">keyname</span></p>
<p style="margin: 10px 0 0 30px;"><span style="font-weight: bold;">ENCRYPT ALL</span><span style="font-style: italic;"> keyname</span> {<span style="font-weight: bold;">NO.QUERY</span>}</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>where</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic;">filename</span></td><td style="border:none;padding:0">is the name of the file to which encryption is to be applied.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic;">field</span></td><td style="border:none;padding:0">is the name or field number of the field to which encryption is to be applied.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic;">keyname</span></td><td style="border:none;padding:0">is the name of the encryption key to be used. This is case insensitive.</td></tr></table></div><p style="text-indent: -90px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The first form of the <span style="font-weight: bold;">ENCRYPT.FILE</span> command sets the encryption key for one or more fields within a file that uses field level encryption. Encryption cannot be applied to a field that is used for an alternate key index.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The second form of the <span style="font-weight: bold;">ENCRYPT.FILE</span> command sets the encryption key for record level encryption. Alternate key indices can be defined in files that use record level encryption but, because the index itself is not encrypted by default, the indexed fields have reduced security.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p class="p_Normal">The third form of the <span style="font-weight: bold;">ENCRYPT.FILE</span> command encrypts all hashed files defined by F-type VOC entries that are not already using encryption. Standard system files such as the VOC are omitted. The default behaviour is to build and display a list of files that are eligible for encryption. The list can then be modified to remove unwanted files. The <span style="font-weight: bold;">NO.QUERY</span> keyword omits this file selection step but does not disable other confirmation prompts. The displayed list shows an alphabetically sorted numbered list of files that can be scrolled from page to page using the cursor up/down or page up/down keys. Files selected for encryption are marked with an asterisk. Entry of a line number (e.g. “12”) or a range of line numbers (e.g. “12-18”) toggles the selection state of the related files. Once the list is correct, entering &quot;A&quot; applies the encryption. Use of &quot;Q&quot; or &quot;QUIT&quot; will abort the action.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p>If the file contains data records when this command is used, the file is processed to apply the encryption. A system failure or other process abort during this update will leave the file in a partially encrypted state and hence render it unusable. <span style="font-weight: bold;">Always back up a file before using this command if the file contains data</span>.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Examples</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">ENCRYPT.FILE CUSTOMERS CCARD,CARDNO</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The above command encrypts the CCARD field of the CUSTOMERS file using the CARDNO encryption key.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">ENCRYPT.FILE CUSTOMERS CKEY</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The above command encrypts the CUSTOMERS file using the CKEY encryption key for record level encryption.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">See also:</span></p>
<p><a href="encryption.htm" class="topiclink">Data encryption</a>, <span style="font-weight: bold;"><a href="change_key_password.htm" class="topiclink">CHANGE.KEY.PASSWORD</a></span>, <span style="font-weight: bold;"><a href="create_file.htm" class="topiclink">CREATE.FILE</a></span>, <span style="font-weight: bold;"><a href="create_key.htm" class="topiclink">CREATE.KEY</a></span>, <span style="font-weight: bold;"><a href="create_key.htm" class="topiclink">CREATE.SECURE.KEY</a></span>, <span style="font-weight: bold;"><a href="decrypt_file.htm" class="topiclink">DECRYPT.FILE</a></span>, <span style="font-weight: bold;"><a href="delete_key.htm" class="topiclink">DELETE.KEY</a></span>, <span style="font-weight: bold;"><a href="disable_key.htm" class="topiclink">DISABLE.KEY</a></span>, <span style="font-weight: bold;"><a href="qmb_disable_key.htm" class="topiclink">DISABLE.KEY (QMBasic)</a></span>, <span style="font-weight: bold;"><a href="enable_key.htm" class="topiclink">ENABLE.KEY</a></span>, <span style="font-weight: bold;"><a href="qmb_enable_key.htm" class="topiclink">ENABLE.KEY (QMBasic)</a></span>, <span style="font-weight: bold;"><a href="grant_key.htm" class="topiclink">GRANT.KEY</a></span>, <span style="font-weight: bold;"><a href="list_keys.htm" class="topiclink">LIST.KEYS</a></span>,<span style="font-weight: bold;"> <a href="reset_master_key.htm" class="topiclink">RESET.MASTER.KEY</a></span>, <span style="font-weight: bold;"><a href="revoke_key.htm" class="topiclink">REVOKE.KEY</a></span>,<span style="font-weight: bold;"> <a href="set_encryption_key_name.htm" class="topiclink">SET.ENCRYPTION.KEY.NAME</a></span>,<span style="font-weight: bold;"> <a href="unlock_key_vault.htm" class="topiclink">UNLOCK.KEY.VAULT</a></span></p>

</td></tr></table>

</body>
</html>
