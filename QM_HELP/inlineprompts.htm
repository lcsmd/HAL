<!DOCTYPE html>
<html>
<head>
   <title>Inline Prompts</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="Inline prompts" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "inlineprompts.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <h1 class="p_Heading1"><span class="f_Heading1">Inline Prompts</span></h1>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="titlepage.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="securitysubroutines.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="patterns.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Inline prompts provide a means to prompt for data needed by a sentence or paragraph when it is executed. Except as shown for the Q control element below, the <a href="data.htm" class="topiclink">DATA</a> command does not affect inline prompting which always takes its response from the keyboard. There are also variants on inline prompts that retrieve data from other sources, providing a generalised way to substitute variable items into a command.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>An inline prompt has the general form</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-weight: bold;">&lt;&lt;</span>{<span style="font-style: italic;">control</span><span style="font-weight: bold;">,</span>} <span style="font-style: italic;">text</span> {<span style="font-weight: bold;">,</span> <span style="font-style: italic;">check</span>}<span style="font-weight: bold;">&gt;&gt;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>where</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic;">control</span></td><td style="border:none;padding:0">determines the way in which the prompt is displayed and how it is actioned on subsequent execution of the same statement or another with the same <span style="font-style: italic;">text</span>. Control codes are generally case insensitive. A single inline prompt may have multiple comma separated control elements or none.</td></tr></table></div><p style="text-indent: -90px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic;">text</span></td><td style="border:none;padding:0">is the prompt text to be displayed. An equals sign is automatically added to the end of the prompt text. The text should be enclosed in single quotes, double quotes or backslashes if it contains characters that might otherwise lead to mishandling of the prompt such as a comma.</td></tr></table></div><p style="text-indent: -90px; margin: 0 0 0 120px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:90px"><span style="font-style: italic;">check</span></td><td style="border:none;padding:0">is used to check whether the response to the prompt is valid. If omitted, no checking is performed.</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-style: italic;">control</span> options are of two types; <span style="font-style: italic;">display controls</span> and <span style="font-style: italic;">response controls</span>. Both are optional and may be intermixed.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A <span style="font-style: italic;">display control</span> may contain any of the following items. Multiple items may be concatenated, separated by commas, and are performed in the order in which they appear.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">@(</span><span style="font-style: italic;">col</span><span style="font-weight: bold;">, </span><span style="font-style: italic;">row</span><span style="font-weight: bold;">)</span></td><td style="border:none;padding:0">specifies the display position for the prompt text. The QMBasic <span style="font-weight: bold;"><a href="qmb_at_fun.htm" class="topiclink">@()</a></span> function variants with a negative value for the first (or only) argument are also supported.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 150px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">@(BELL)</span></td><td style="border:none;padding:0">sounds the audible warning. The <span style="font-weight: bold;"><a href="bell.htm" class="topiclink">BELL OFF</a></span> command will suppress this action.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 150px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">@(CLR)</span></td><td style="border:none;padding:0">Clears the display.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 150px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">@(TOF)</span></td><td style="border:none;padding:0">Positions to the top left of the display. This is equivalent to use of @(0,0).</td></tr></table></div><p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A <span style="font-style: italic;">response control</span> consists of one of the items listed below. If omitted, the prompt is actioned only for the first occurrence of a prompt with the given <span style="font-style: italic;">text</span>. Subsequent execution of the same inline prompt or another with the exactly same <span style="font-style: italic;">text</span> will not cause a prompt to be displayed but will use the response to the previous prompt. All prompt responses are discarded on return to the command prompt. The <span style="font-weight: bold;"><a href="clear_prompts.htm" class="topiclink">CLEAR.PROMPTS</a></span> command can be used to discard all inline prompt responses from within a paragraph.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">A</span></td><td style="border:none;padding:0">Always prompt. This is usually needed on the first occurrence of each prompt in a loop so that each iteration of the loop prompts again.</td></tr></table></div><p style="text-indent: -120px; margin: 0 0 0 150px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 30px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:120px"><span style="font-weight: bold;">C</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Used in paragraphs to take the <span style="font-style: italic;">n</span>'th token of the sentence that started the paragraph as the response to the prompt. No prompt text will appear unless the implicit response fails to meet the <span style="font-style: italic;">check</span> conditions. The <span style="font-weight: bold;">C</span> control code has several extended forms:</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 180px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">C</span><span style="font-style: italic;">m</span><span style="font-weight: bold;">-</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Returns tokens <span style="font-style: italic;">m</span> to <span style="font-style: italic;">n</span>.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 180px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">C</span><span style="font-style: italic;">n</span><span style="font-weight: bold;">+</span></td><td style="border:none;padding:0">Returns tokens <span style="font-style: italic;">n</span> onwards.</td></tr></table></div><div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 180px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:60px"><span style="font-weight: bold;">C#</span></td><td style="border:none;padding:0">Returns the number of tokens in the command line.</td></tr></table></div><p style="margin: 10px 0 0 30px;">All formats of the <span style="font-weight: bold;">C</span> control code except <span style="font-weight: bold;">C#</span> may include a default value. For example,</p>
<p style="margin: 10px 0 0 180px;">&lt;&lt;C4:SALES&gt;&gt;</p>
<p style="margin: 10px 0 0 30px;">The default value will be applied if the prompt would otherwise return a null string.</p>
<p style="margin: 10px 0 0 30px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">CHANGE(</span><span style="font-style: italic;">str</span><span style="font-weight: bold;">,</span> <span style="font-style: italic;">old</span><span style="font-weight: bold;">,</span> <span style="font-style: italic;">new</span><span style="font-weight: bold;">)</span></td><td style="border:none;padding:0">Change all occurrences of substring <span style="font-style: italic;">old</span> in <span style="font-style: italic;">str</span> with <span style="font-style: italic;">new</span>. Argument values may be enclosed in quotes if necessary to avoid any syntactic ambiguity.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">CONFIG(</span><span style="font-style: italic;">x</span><span style="font-weight: bold;">)</span></td><td style="border:none;padding:0">Returns the value of the named configuration parameter.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">F(</span><span style="font-style: italic;">file</span><span style="font-weight: bold;">,</span> <span style="font-style: italic;">key</span> {<span style="font-weight: bold;">,</span><span style="font-style: italic;">field</span> {<span style="font-weight: bold;">,</span> <span style="font-style: italic;">value</span> {<span style="font-weight: bold;">,</span> <span style="font-style: italic;">subvalue</span>}}}<span style="font-weight: bold;">)</span></td><td style="border:none;padding:0">Use record <span style="font-style: italic;">key</span> of the data portion of the named <span style="font-style: italic;">file</span> as the response to the prompt. The optional <span style="font-style: italic;">field</span>, <span style="font-style: italic;">value</span> and <span style="font-style: italic;">subvalue</span> allow extraction of a particular part of the record.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">ICONV(</span><span style="font-style: italic;">str</span><span style="font-weight: bold;">,</span> <span style="font-style: italic;">code</span><span style="font-weight: bold;">)</span></td><td style="border:none;padding:0">Apply input conversion <span style="font-style: italic;">code</span> to <span style="font-style: italic;">str</span>. Argument values may be enclosed in quotes if necessary to avoid any syntactic ambiguity.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">I</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Used in paragraphs to take the <span style="font-style: italic;">n</span>'th token of the sentence that started the paragraph as the response to the prompt. If this is a null string or the implicit response fails to meet the <span style="font-style: italic;">check</span> conditions, an input prompt appears.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">L</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Extracts the next item from select list <span style="font-style: italic;">n</span>. If <span style="font-style: italic;">n</span> is omitted, it defaults to zero. When the select list is exhausted, a null string is returned. This control code does not need to be used with the A control code in a loop as it always reads the next list entry.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">OCONV(</span><span style="font-style: italic;">str</span><span style="font-weight: bold;">,</span> <span style="font-style: italic;">code</span><span style="font-weight: bold;">)</span></td><td style="border:none;padding:0">Apply output conversion <span style="font-style: italic;">code</span> to <span style="font-style: italic;">str</span>. Argument values may be enclosed in quotes if necessary to avoid any syntactic ambiguity.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">Q</span></td><td style="border:none;padding:0">Allows an inline prompt response to be taken from the DATA queue.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">R</span></td><td style="border:none;padding:0">Prompt repeatedly for input, concatenating data with an intervening space until a blank line is entered.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">R(</span><span style="font-style: italic;">string</span><span style="font-weight: bold;">)</span></td><td style="border:none;padding:0">Prompt repeatedly for input, concatenating the responses with <span style="font-style: italic;">string</span> between responses until a blank line is entered. The <span style="font-style: italic;">string</span> may not include field mark characters. An abort will occur if a field mark is specified as part of <span style="font-style: italic;">string</span>.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">S</span><span style="font-style: italic;">n</span></td><td style="border:none;padding:0">Take the <span style="font-style: italic;">n</span>'th token of the sentence entered at the command prompt as the response to the prompt. If this is a null string or the implicit response fails to meet the <span style="font-style: italic;">check</span> conditions, an input prompt appears.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">SUBR(</span><span style="font-style: italic;">name</span><span style="font-weight: bold;">)</span></td><td style="border:none;padding:0">Execute catalogued QMBasic function <span style="font-style: italic;">name</span>, returning the result of this function as the value of the inline prompt.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">SUBR(</span><span style="font-style: italic;">name</span><span style="font-weight: bold;">,</span> <span style="font-style: italic;">arg1</span><span style="font-weight: bold;">,</span> <span style="font-style: italic;">arg2</span><span style="font-weight: bold;">)</span></td><td style="border:none;padding:0">Execute catalogued QMBasic function <span style="font-style: italic;">name</span>, passing in the given arguments and returning the result of this function as the value of the inline prompt. Up to 254 arguments may be specified. These may be enclosed in quotes if necessary to avoid any syntactic ambiguity.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">SYSTEM(</span><span style="font-style: italic;">n</span><span style="font-weight: bold;">)</span></td><td style="border:none;padding:0">Returns the value of the QMBasic <span style="font-weight: bold;"><a href="qmb_system.htm" class="topiclink">SYSTEM(</a></span><span style="font-style: italic; font-weight: bold;"><a href="qmb_system.htm" class="topiclink">n</a></span><span style="font-weight: bold;"><a href="qmb_system.htm" class="topiclink">)</a></span> function.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">U</span></td><td style="border:none;padding:0">Converts the data entered in the response to the prompt to uppercase. Note that this control must appear before any other control options to which it is to apply.</td></tr></table></div><p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">@</span><span style="font-style: italic;">var</span></td><td style="border:none;padding:0">The name of an @-variable, including user defined names (see the <span style="font-weight: bold;"><a href="set.htm" class="topiclink">SET</a></span> command), may be used to retrieve the value of the given variable. A default value may be applied by use of a prompt of the form:</td></tr></table></div><p style="text-indent: 1px; margin: 10px 0 0 299px;">&lt;&lt;@<span style="font-style: italic;">name</span>:<span style="font-style: italic;">value</span>&gt;&gt;</p>
<p style="text-indent: 1px; margin: 10px 0 0 269px;">The default value will be applied if the prompt would otherwise return a null string.</p>
<p style="text-indent: -238px; margin: 0 0 0 269px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 10px 0 0 31px;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:238px"><span style="font-weight: bold;">$</span><span style="font-style: italic;">var</span></td><td style="border:none;padding:0">The name of an operating system environment variable may be used to retrieve the value of the given variable. A default value may be applied by use of a prompt of the form:</td></tr></table></div><p style="text-indent: 1px; margin: 10px 0 0 299px;">&lt;&lt;$<span style="font-style: italic;">name</span>:<span style="font-style: italic;">value</span>&gt;&gt;</p>
<p style="text-indent: 1px; margin: 10px 0 0 269px;">The default value will be applied if the prompt would otherwise return a null string.</p>
<p style="text-indent: -120px; margin: 0 0 0 150px;"><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">Note:</span> The C and S control may appear to be backwards. The C control bases its result on the content of the @SENTENCE variable and the S control bases its result on the content of the @COMMAND variable. These control elements were originally defined in another multivalue product and QM preserves this apparently incorrect implementation for compatibility.</p>
<p class="p_Normal">&nbsp;</p>
<p>The <span style="font-weight: bold;">C</span><span style="font-style: italic;">n</span> and <span style="font-weight: bold;">I</span><span style="font-style: italic;">n</span> control codes are only useful in paragraphs. A command that references a paragraph (PA-type VOC entry) may include additional text that can be accessed using these control codes. In a command that references a stored sentence (S-type VOC entry), any additional text following the sentence name is added to the end of the sentence expansion, making effective use of these control codes impossible. There is no reason why a paragraph cannot contain only a single sentence if these control codes are to be used.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-weight: bold;">&lt;&lt;@</span><span style="font-style: italic;">var</span><span style="font-weight: bold;">&gt;&gt;</span> construct allows @variables to be inserted into any command, simplifying paragraph structure. For example:</p>
<p style="margin: 10px 0 10px 30px;"><span style="font-family: 'Courier New',Courier,monospace;">SAVE.LIST LIST.&lt;&lt;@USERNO&gt;&gt;</span></p>
<p>could be used to save a select list with a name that includes the user number to ensure uniqueness for the duration of the user's QM session.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The <span style="font-style: italic;">check</span> code performs simple data validation and is either a <a href="patterns.htm" class="topiclink">pattern match template</a> or an input conversion code. Multiple patterns can be specified separated by the word <span style="font-weight: bold;">OR</span> with a single space either side. For example,</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p style="margin: 0 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">3N'-'4N OR 4N'-'3N</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>would accept numbers of the form 123-4567 or 1234-567.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Input conversion codes must be enclosed in brackets. Any of the codes that can be used with the <span style="font-weight: bold;"><a href="qmb_iconv.htm" class="topiclink">ICONV()</a></span> function may be used. The check is considered successful if no conversion error occurs. The value returned by the prompt is the actual text entered, not the result of the conversion.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Entry of QUIT at the keyboard in response to an inline prompt will abort and return to the command prompt. The <span style="font-weight: bold;"><a href="at_variables.htm" class="topiclink">@ABORT.CODE</a></span> variable will be set to 2 as for QUIT entered at other prompts.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>Inline prompts are expanded as the first stage of processing a command. This has two important effects:</p>
<p style="margin: 6px 0 0 30px;">An inline prompt in a <a href="comment.htm" class="topiclink">comment</a> line will be evaluated. This slightly strange effect can be useful as a means to perform all prompts at the start of the paragraph rather than as they are needed, perhaps much later.</p>
<p style="margin: 6px 0 0 30px;">An <span style="font-weight: bold;"><a href="if.htm" class="topiclink">IF</a></span> command in a paragraph where the conditioned statement includes an inline prompt will display the prompt before determining whether the condition is True. The paragraph can always be structured in a way to avoid this behaviour.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>A single command may contain multiple inline prompts. These will be evaluated left to right. Nested inline prompts will be evaluated from the inside outwards.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The response to an inline prompt may not include the left or right double angle bracket symbols (&lt;&lt; and &gt;&gt;) or field marks. Entering a response containing one of these will cause the prompt to be repeated.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>When used as an item to test in an IF command, the prompt will usually need to be enclosed in quotes so that a response that contains spaces or reserved keywords does not cause the command parsing to fail. For example</p>
<p style="margin: 6px 0 6px 30px;"><span style="font-family: 'Courier New',Courier,monospace;">IF &lt;&lt;Customer number&gt;&gt; = &quot;&quot; THEN STOP</span></p>
<p>should be written as</p>
<p style="margin: 6px 0 0 30px;"><span style="font-family: 'Courier New',Courier,monospace;">IF &quot;&lt;&lt;Customer number&gt;&gt;&quot; = &quot;&quot; THEN STOP</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">Examples</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">PA</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">SELECT ORDERS SAVING UNIQUE CUST.NO_</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp;WITH DATE AFTER &lt;&lt;Start date&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">LIST CUSTOMERS NAME_</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp;HEADING &quot;Clients ordering after &lt;&lt;Start date&gt;&gt;&quot;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>The above paragraph uses two identical inline prompts. The first asks the user to enter a start date for a SELECT operation. The second prompt will not repeat the request as the answer is already known. Note that the prompt text can contain spaces and that the inline prompt substitution occurs even though it is part of a quoted string.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">PA</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">* &lt;&lt;Target file&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">RUN OVN.PROCESS</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">OVN.RPT &lt;&lt;Target file&gt;&gt;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>In this example, the inline prompt is in a comment. Although the prompt will be issued at the start of the paragraph, the result is not used until the final command. If the OVN.PROCESS program takes a considerable length of time to execute, this technique allows the prompt to be answered early, without having to wait for the program to complete.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">PA</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">* &lt;&lt;I2,Target file&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">RUN OVN.PROCESS</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">OVN.RPT &lt;&lt;Target file&gt;&gt;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>By adding the I2 control option to the previous example, the paragraph will take the target file name from the second word on the command line if present, prompting if it is not given.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">PA</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">LOOP</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; IF &lt;&lt;A,Customer&gt;&gt; = &quot;&quot; THEN STOP</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; LIST ORDERS WITH CUST.NO = &lt;&lt;Customer&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">REPEAT</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>This paragraph uses a loop in which the user is prompted to enter a customer number. If this is a null string, the paragraph terminates. Otherwise it lists the ORDERS file records for this customer. Note the use of the A option on the first prompt in the loop so that it is repeated on each cycle of the loop. Without this, the paragraph would list the orders for the same customer continuously until stopped by user action.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p class="p_Normal"><span style="font-family: 'Courier New',Courier,monospace;">PA</span></p>
<p class="p_Normal"><span style="font-family: 'Courier New',Courier,monospace;">LOOP</span></p>
<p class="p_Normal"><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; IF &lt;&lt;L,ID&gt;&gt; = &quot;&quot; THEN STOP</span></p>
<p class="p_Normal"><span style="font-family: 'Courier New',Courier,monospace;"> &nbsp; MYPROG &lt;&lt;ID&gt;&gt;</span></p>
<p class="p_Normal"><span style="font-family: 'Courier New',Courier,monospace;">REPEAT</span></p>
<p class="p_Normal">&nbsp;</p>
<p>This paragraph uses a loop to walk through the default select list, executing MYPROG for each entry taken from the list.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">SAVE.STACK &quot;&lt;&lt;@LOGNAME&gt;&gt;&quot;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">DISPLAY Domain is &lt;&lt;$USERDOMAIN&gt;&gt;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>These two commands show use of the inline prompt mechanism to insert the value of system variables into commands. The first uses an internal QM @variable to retrieve the user's login name, the second accesses the operating system USERDOMAIN environment variable. Note the use of quotes in the first command to allow for the possibility of the user name containing a space.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New',Courier,monospace;">DISPLAY Licence number &lt;&lt;SYSTEM(31)&gt;&gt;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p>This example uses the inline prompt mechanism to access the QM licence number via the QMBasic <span style="font-weight: bold;"><a href="qmb_system.htm" class="topiclink">SYSTEM()</a></span> function.</p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-size: 10pt; font-family: Arial,Helvetica,sans-serif; color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold;">See also:</span></p>
<p><span style="font-weight: bold;"><a href="clear_prompts.htm" class="topiclink">CLEAR.PROMPTS</a></span></p>

</td></tr></table>

</body>
</html>
